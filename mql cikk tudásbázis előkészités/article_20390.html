
<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="x-dns-prefetch-control" content="on">

  <meta name="robots" content="max-snippet:250,max-image-preview:large">
  <meta name="description" content="This article introduces the Pattern Density Heatmap, a price‑action mapping tool that transforms repeated candlestick pattern detections into statistically significant support and resistance zones. Rather than treating each signal in isolation, the EA aggregates detections into fixed price bins, scores their density with optional recency weighting, and confirms levels against higher‑timeframe data. The resulting heatmap reveals where the market has historically reacted—levels that can be used proactively for trade timing, risk management, and strategy confidence across any trading style.">
  <meta property="og:url" content="https://www.mql5.com/en/articles/20390">
  <meta property="og:title" content="Price Action Analysis Toolkit Development (Part 53): Pattern Density Heatmap for Support and Resistance Zone Discovery">
  <meta property="og:description" content="This article introduces the Pattern Density Heatmap, a price‑action mapping tool that transforms repeated candlestick pattern detections into statistically significant support and resistance zones. Rather than treating each signal in isolation, the EA aggregates detections into fixed price bins, scores their density with optional recency weighting, and confirms levels against higher‑timeframe data. The resulting heatmap reveals where the market has historically reacted—levels that can be used proactively for trade timing, risk management, and strategy confidence across any trading style.">
      <meta property="og:image" content="https://c.mql5.com/2/183/20390-price-action-analysis-toolkit-development-part-53-pattern-density_1200x628.jpg">
      <meta property="og:image:secure_url" content="https://c.mql5.com/2/183/20390-price-action-analysis-toolkit-development-part-53-pattern-density_1200x628.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2025-11-28T10:09:12.1678574Z">
  <meta property="article:author" content="https://www.mql5.com/en/users/lynnchris">
  <meta property="article:section" content="MetaTrader 5">
  <meta property="article:tag" content="Indicators">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@mql5com">
  <meta name="twitter:image" content="https://c.mql5.com/2/183/20390-price-action-analysis-toolkit-development-part-53-pattern-density_1200x628.jpg">
  <meta name="theme-color" content="#4a76b8">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-config" content="none">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <meta property="qc:admins" content="36367170677651456375">
  <meta property="wb:webmaster" content="073d7690269bcd81">
  <link rel="shortcut icon" href="https://c.mql5.com/i/favicon4.ico">
  <link rel="dns-prefetch" href="https://c.mql5.com">
  <link href="https://c.mql5.com/styles/core.fad34c848ba7d98f6c8f9fdc9c13736a.css" type="text/css" rel="stylesheet" media="all">
  <link href="https://c.mql5.com/styles/all.f5bbcd38b25f2cfbf68249d7ffdbfaba.css" type="text/css" rel="stylesheet" media="all">
  <link rel="preload" href="https://c.mql5.com/styles/chat.0e624e155e0815a7edf5d716c75e4c2a.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://c.mql5.com/styles/chat.0e624e155e0815a7edf5d716c75e4c2a.css" type="text/css" rel="stylesheet" media="all"></noscript>
  <link href="https://c.mql5.com/styles/articles.5b583cbf5538b3c5ac59cacbc4446a1e.css" type="text/css" rel="stylesheet" media="all">
  <link href="/en/articles/rss" rel="alternate" type="application/rss+xml" title="Articles on the development and application of MetaTrader 5 trading robots and technical indicators">
  <link rel="canonical" href="https://www.mql5.com/en/articles/20390">
  <link rel="alternate" hreflang="en" href="https://www.mql5.com/en/articles/20390">
  <title>Price Action Analysis Toolkit Development (Part 53): Pattern Density Heatmap for Support and Resistance Zone Discovery - MQL5 Articles</title>



<script type="text/javascript">
  !function(){window.mqGlobal={};var t=!1,n=!1,e=[],o=[],i=[];function d(t){var n;for(n=0;n<t.length;n+=1)t[n]()}function c(){t||(t=!0,d(e),d(o),o=[],e=[])}function a(){c(),n||(n=!0,d(i),i=[])}if(mqGlobal.AddOnReady=function(n,i){t?n(document):i?e.push(n):o.push(n)},mqGlobal.AddOnLoad=function(t){n?t(document):i.push(t)},mqGlobal.AddOnActiveWindowChange=function(t){this._onvisibility||(this._onvisibility=[]),this._onvisibility[this._onvisibility.length]=t},document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",a,!1);else if(document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){switch(document.readyState){case"interactive":c();break;case"complete":a()}})),window.attachEvent("onload",a),document.documentElement.doScroll&&window==window.top)){!function n(){if(!t&&document.body)try{document.documentElement.doScroll("left"),c()}catch(t){setTimeout(n,0)}}()}}();
  mqGlobal.CookieDomain = ".mql5.com";
  mqGlobal.Language = 'en';
  mqGlobal.IsMobile = false;
  mqGlobal.ClearRteStorage = function (e) { if (window.GStorage || (window.GStorage = globalStorage()), window.GStorage.supported) try { var o = e; window.GStorage.getItem("rte_autosave_uid", function (e, t) { t == o && (window.GStorage.removeItem("rte_autosave_text"), window.GStorage.removeItem("rte_autosave_date"), window.GStorage.removeItem("rte_autosave_uid")) }) } catch (e) { } };
</script>  <script type="text/javascript">
	mqGlobal.AddOnReady(function(){window.siteUpdates = new SiteUpdates('/en/updates',10,'en',[1,21],1764506220,0);});
	</script>

  

    <script src="https://c.mql5.com/js/all.794f844db8fe2cee0ccf9b292ed898e1.js" type="text/javascript" defer="defer"></script>
  <script src="https://c.mql5.com/js/vendor.b809b348045a1ca28cda0f89d01711db.js" type="text/javascript" defer="defer"></script>
  <script src="https://c.mql5.com/js/chat.17ac7de8ab325d93bdcdb78f6051fb90.js" type="text/javascript" defer="defer"></script>
  <script src="https://c.mql5.com/js/articles.0b0633eafc3082b19addeeea47a59af4.js" type="text/javascript" defer="defer"></script>


</head>

<body id="cover" class="cover">


  <nav class="head">
    <a href="https://www.mql5.com" class="head__logo" title="MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal"></a>
      <div class="head__content">
        <div class="main-menu" id="mainmenu">
          
                    <ul class="main-menu__top-level" id="menuTopLevel">
                    <li><a href="/en/forum" data-fz-event="MQL5+Menu+Forum">Forum</a></li>
                    <li><a href="/en/market" data-fz-event="MQL5+Menu+Market">Market</a></li>
                    <li><a href="/en/signals" data-fz-event="MQL5+Menu+Signals">Signals</a></li>
                    <li><a href="/en/job" data-fz-event="MQL5+Menu+Job">Freelance</a></li>
                    <li><a href="/en/vps" data-fz-event="MQL5+Menu+VPS">VPS</a></li>
                    <li><a href="/en/quotes/overview" data-fz-event="MQL5+Menu+Overview">Quotes</a></li>
                  </ul><ul class="main-menu__second-level" id="menuSecondLevel">
                    <li class="main-menu__selected"><a href="/en/articles" data-fz-event="MQL5+Menu+Articles"><img src="https://c.mql5.com/i/menu/icon-articles4.svg" alt="" width="16" height="16"/>Articles</a></li>
                    <li><a href="/en/code" data-fz-event="MQL5+Menu+CodeBase"><img src="https://c.mql5.com/i/menu/icon-code4.svg" alt="" width="16" height="16"/>CodeBase</a></li>
                    <li><a href="https://forge.mql5.io/?lang=en" target="_blank" rel="noopener" data-fz-event="MQL5+Menu+AlgoForge"><img src="https://c.mql5.com/i/menu/icon-algoforge4.svg" alt="" width="16" height="16"/>Algo Forge</a></li>
                    <li><a href="/en/docs" data-fz-event="MQL5+Menu+Docs"><img src="https://c.mql5.com/i/menu/icon-docs4.svg" alt="" width="16" height="16"/>Documentation</a></li>
                    <li><a href="/en/book" data-fz-event="MQL5+Menu+Book"><img src="https://c.mql5.com/i/menu/icon-book4.svg" alt="" width="16" height="16"/>AlgoBook</a></li>
                    <li><a href="/en/neurobook" data-fz-event="MQL5+Menu+Neurobook"><img src="https://c.mql5.com/i/menu/icon-neurobook4.svg" alt="" width="16" height="16"/>NeuroBook</a></li>
                    <li><a href="/en/economic-calendar" data-fz-event="MQL5+Menu+Economic+Calendar"><img src="https://c.mql5.com/i/menu/icon-economic-calendar4.svg" alt="" width="16" height="16"/>Calendar</a></li>
                    <li><a href="https://web.metatrader.app/terminal?mode=demo&lang=en" target="_blank" rel="nofollow noopener" data-fz-event="MQL5+Menu+Trading"><img src="https://c.mql5.com/i/menu/icon-trading4.svg" alt="" width="16" height="16"/>WebTerminal</a></li>
                    <li class="main-menu__mobile"><a href="/en/users/deszkmihaly67">Profile</a></li>
                    <li class="main-menu__mobile"><a href="/en/about">About</a></li>
                    <li class="main-menu__second-tools"><a rel="noopener" target="_blank" href="https://t.me/mql5dev" title="Follow us on socials for top articles and CodeBase updates" class="button-mt" data-vars-fz="Algo+Trading+Channel+Submenu"><img width="18" height="18" src="https://c.mql5.com/i/sidebar/tg.svg" alt="" loading="lazy">Algo Trading Channel</a></li>
                    </ul>
        </div>
          <div class="main-menu__active">
            <a id="mainMenuSelected" href="#">
              <span class="main-menu__primary">Articles</span><span class="main-menu__secondary">Sections</span>
            </a>
          </div>
<form action="https://www.mql5.com/en/search" onsubmit="return false;" autocomplete="off" id="headerSearchForm" class="header-search" method="post">
<button type="button" id="headerSearchButton" title="Search" class="header-search__button"></button><div class="header-search__input"><input name="keyword" type="text" enterkeyhint="search" title="Enter search text" placeholder="Search" id="headerSearchKeyword"/><label for="headerSearchKeyword" class="header-search__placeholder">Type <span>/</span> to search:  @user, $symbol, ...</label><button id="headerSearchSubmit" class="header-search__submit"></button></div><button type="button" id="headerSearchClean" title="Close" class="header-search__clean"></button></form>        <input class="blurHandler" id="mainMenuBlurHandler" type="checkbox">
      </div>
      <div class="head__toolbar" id="headerToolbar">
          <div class="container notifications-toolbar">
            <nav>
              <ul id="privateAreaMessages" class="notifications-box">
                <li class="notify-item notify-mobile"><a class="link-notify static link-notify_message-mobile" href="/en/users/deszkmihaly67/messages" id="notifyMessagesMobile" title="Messages"><i class="notify-icon notify-icon_messages"></i></a></li>
                <li class="notify-item notify-total">
                <ul class="notify-total__list" id="notifyTotalList">
<li class="notify-item notify-desktop"><a class="link-notify link-notify_message" href="/en/users/deszkmihaly67/messages" id="notifyMessages" title="Messages"><i class="notify-icon notify-icon_messages"></i></a></li>
<script type="application/json" id="dragAndDrop" data-type="translate">{
  "zoomIn": "zoom in",
  "zoomOut": "zoom out",
  "dragAndDrop": "Upload",
  "errorInvalidExtension": "Invalid extension",
  "invalidImageSize": "Invalid image size",
  "invalidImageType": "Invalid image format"
}</script>
<script type="application/json" id="lightBoxTranslates" data-type="translate">{
  "lightBox": {
    "collapse": "Collapse",
    "showOriginal": "Show original",
    "errorLoading": "Unable to download attachment",
    "next": "Next",
    "previous": "Previous",
    "linkToImg": "Link to the image",
    "linkToVideo": "Link to the video",
    "save": "Save",
    "close": "Close"
  }
}</script>
    
</ul></li>

              </ul>
            </nav>
          </div>
        <div class="toggle-button" id="sidebarToggleButton">
          <i></i>
        </div>

        <div class="group-menu" id="groupMenu">
            <div class="container profileToolbar">
              <nav>
                <ul id="profile" class="profile-box"><li class="userLinkContainer" id="userLinkContainer"><a href="/en/users/deszkmihaly67/news" class="userlink" id="userlink" title=""><img src="https://c.mql5.com/avatar/avatar_na2_micro.png" alt="" loading="lazy" width="29" height="29"><span class="firstname">Mih&#225;ly</span> <span class="lastname">Deszk</span></a><ul class="userLinkMenu user-link-menu" id="userLinkMenu" >
<li class="messages delimiter user-link-menu__item_with-counter user-link-menu__item"><a href="/en/users/deszkmihaly67/messages"><span>Messages</span><span class="user-link-menu__counter" id="counterMessagesMenu"></span></a></li>
<li class="news user-link-menu__item"><a href="/en/users/deszkmihaly67/news"><span>News feed</span></a></li>
<li class="profile user-link-menu__item_with-counter user-link-menu__item"><a href="/en/users/deszkmihaly67"><span>Profile</span><span title="Friend requests" class="user-link-menu__counter" id="counterOfferedFriendMenu"></span></a></li>
<li class="favorites user-link-menu__item"><a href="/en/users/deszkmihaly67/favorites"><span>Favorites</span></a></li>
<li class="topup delimiter user-link-menu__item"><a href="/en/users/deszkmihaly67/accounting/topup"><span>Top up MQL5 Services</span></a></li>
<li class="chooseout user-link-menu__item"><a href="/en/users/deszkmihaly67/accounting/chooseout"><span>Withdraw from account</span></a></li>
<li class="settings delimiter user-link-menu__item"><a href="/en/users/deszkmihaly67/edit"><span>Settings</span></a></li>
<li class="logout delimiter"><a href="/en/auth_logout" onclick="doPost(event,'/en/auth_logout','eef116c86af9c387f5c212f3539507af'); return false;"><span>Logout</span></a></li>
</ul></li></ul>
              </nav>
            </div>


          <div class="container lang-menu-container">
            <div id="langMenuContainer" class="lang-menu">
              <input class="blurHandler" id="langmenuBlurHandler" type="checkbox">
              <nav>
                <ul class="lang-menu__list" id="langmenu">
                  <li class="lang-menu__list-item lang-menu__list-item_selected"><a href="/en/articles" aria-label="English (English)"><i class="icons-languages icons-languages_en"></i><span>English</span></a></li>
<li class="lang-menu__list-item"><a href="/ru/articles" aria-label="Русский (Russian)"><i class="icons-languages icons-languages_ru"></i><span>Русский</span></a></li>
<li class="lang-menu__list-item"><a href="/zh/articles" aria-label="中文 (Chinese)"><i class="icons-languages icons-languages_zh"></i><span>中文</span></a></li>
<li class="lang-menu__list-item"><a href="/es/articles" aria-label="Español (Spanish)"><i class="icons-languages icons-languages_es"></i><span>Español</span></a></li>
<li class="lang-menu__list-item"><a href="/pt/articles" aria-label="Português (Portuguese)"><i class="icons-languages icons-languages_pt"></i><span>Português</span></a></li>
<li class="lang-menu__list-item"><a href="/ja/articles" aria-label="日本語 (Japanese)"><i class="icons-languages icons-languages_ja"></i><span>日本語</span></a></li>
<li class="lang-menu__list-item"><a href="/de/articles" aria-label="Deutsch (German)"><i class="icons-languages icons-languages_de"></i><span>Deutsch</span></a></li>
<li class="lang-menu__list-item"><a href="/ko/articles" aria-label="한국어 (Korean)"><i class="icons-languages icons-languages_ko"></i><span>한국어</span></a></li>
<li class="lang-menu__list-item"><a href="/fr/articles" aria-label="Français (French)"><i class="icons-languages icons-languages_fr"></i><span>Français</span></a></li>
<li class="lang-menu__list-item"><a href="/it/articles" aria-label="Italiano (Italian)"><i class="icons-languages icons-languages_it"></i><span>Italiano</span></a></li>
<li class="lang-menu__list-item"><a href="/tr/articles" aria-label="Türkçe (Turkish)"><i class="icons-languages icons-languages_tr"></i><span>Türkçe</span></a></li>

                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
  </nav>

<div id='bfogggabsofabcpxuzmgaibarmaxasdrj' class="r4a1bvi22c6rx0xey g9z0qx14h"></div>

  <div id="left-sidebar-selector" class="left-sidebar__selector left-sidebar__selector_padding">
    <div class="left-sidebar__title">
MetaTrader 5 /     Indicators
    </div>
    <i class="icons-ux icons-ux_arrow-down-black"></i>
  </div>
  <div class="articles-container block-with-sidebar">
    <aside class="left-sidebar left-sidebar_270" id="left-sidebar">
      
  <ul class="tree-menu-ul"><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/examples"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/examples.svg" alt="" loading="lazy"/>Examples</a><ul class="tree-menu__list tree-menu__list_nested"><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/examples_indicators"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/examples_indicators.svg" alt="" loading="lazy"/>Indicators</a></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/examples_experts"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/examples_experts.svg" alt="" loading="lazy"/>Experts</a></li></ul></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/strategy_tester"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/strategy_tester.svg" alt="" loading="lazy"/>Tester</a></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/trading"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/trading.svg" alt="" loading="lazy"/>Trading</a></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/trading_systems"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/trading_systems.svg" alt="" loading="lazy"/>Trading systems</a></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/integration"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/integration.svg" alt="" loading="lazy"/>Integration</a></li><li class="tree-menu__item tree-menu__item_selected"><a class="tree-menu__link" href="/en/articles/indicators"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/indicator.svg" alt="" loading="lazy"/>Indicators</a></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/expert_advisors"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/expert.svg" alt="" loading="lazy"/>Expert Advisors</a></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/statistics"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/statistics.svg" alt="" loading="lazy"/>Statistics and analysis</a></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/machine_learning"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/machine_learning.svg" alt="" loading="lazy"/>Machine learning</a></li><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/interviews"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/interviews.svg" alt="" loading="lazy"/>Interviews</a></li></ul><ul class="tree-menu-ul"><li class="tree-menu__item"><a class="tree-menu__link" href="/en/articles/my"><img class="tree-menu__icon" width="20" height="20" src="https://c.mql5.com/i/sidebar/articles.svg" alt="" loading="lazy"/>My own</a></li></ul>
  

    <div class="hints-panel">
      <div class="hints-panel__item">
        <i class="icons-hints icons-hints_like"></i>
        <div class="hints-panel__content">
          Do you like the article?<br>
          Share it with others —<br>post a <a href="https://www.mql5.com/en/articles/20390" target="_blank">link</a> to it!
        </div>
      </div>

      <div class="hints-panel__item">
        <i class="icons-hints icons-hints_fb-square icons-hints_24px"></i><div class="hints-panel__content">
Find us on <a href="https://www.facebook.com/mql5.community/" target="_blank" rel="nofollow">Facebook</a>!<br> Join our fan page</div>
      </div>

      <div class="hints-panel__item">
        <i class="icons-hints icons-hints_mt-5"></i>
        <div class="hints-panel__content">
          Use new possibilities of <a href="https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download" data-fz-event="MetaTrader+5+Desktop+Download+Article"  rel="nofollow">MetaTrader 5</a>
        </div>
      </div>
    </div>
<div id='vgckrufggwxdtfscpyalmenexmvhljduja' class="rnhyip6vynqcl5p06 g9z0qx14h"></div>      <div class="similar-author-articles ui">
        <h4 class="similar-author-articles__title">Similar articles</h4>
        <ul class="similar-author-articles__list">
            <li>
              <a href="/en/articles/20271" data-fz-event="MQL5+Article+Similar+Article">Market Positioning Codex for VGT with Kendall&#x27;s Tau and Distance Correlation</a>
            </li>
            <li>
              <a href="/en/articles/20387" data-fz-event="MQL5+Article+Similar+Article">Price Action Analysis Toolkit Development (Part 52): Master Market Structure with Multi-Timeframe Visual Analysis</a>
            </li>
            <li>
              <a href="/en/articles/20239" data-fz-event="MQL5+Article+Similar+Article">Mastering Kagi Charts in MQL5 (Part I): Creating the Indicator</a>
            </li>
            <li>
              <a href="/en/articles/20309" data-fz-event="MQL5+Article+Similar+Article">Developing a Trading Strategy: The Flower Volatility Index Trend-Following Approach</a>
            </li>
        </ul>
      </div>
    <div class="freelance-hint">
      <img src="https://c.mql5.com/i/articles/icon_freelance.svg" width="24" height="24" loading="lazy" />
      <div class="freelance-hint__text">
        Use the ideas from this article<br>to order your own robot<br>on Freelance
      </div>
        <a target="_blank" class="button button_blue-gray-border" title="Go to Freelance" href="/en/job/new" data-fz-event="MQL5+Article+New+Job">Go to Freelance</a>
    </div>

    </aside>
    <article class="content-with-sidebar articles-content splashed">
      


  <header class="article-header" style="background-color: rgb(196,227,232)">
    <section class="article-tools-panel">
        
      <div class="article-tools-panel__item">
        <a href="#pocket" title="Pocket allows you to insert a complete content description to the appropriate comment" onclick="return Pocket.Add(this,'en',2,1,20390);" class="article-tools-panel__rounded">
          <i class="article-pocket-icon"></i>
        </a>
      </div>
      <div class="article-tools-panel__item">
        <a href="/en/articles/20390?print=" target="_blank" class="article-tools-panel__rounded" rel="nofollow" title="Printer friendly version">
          <i class="article-print-icon"></i>
        </a>
      </div>

          <span class="article-tools-panel__button-area ui">
            <a class="button button_blue button_with-icon" href="/en/articles/new">
              <i class="icons-buttons icons-buttons_add-article"></i>Add a new article
            </a>
          </span>
    </section>
    <section class="article-header__image-box">
        <img class="article-header__image-preview" loading="lazy" width="32" height="16" alt="preview" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAsICAoIBwsKCQoNDAsNERwSEQ8PESIZGhQcKSQrKigkJyctMkA3LTA9MCcnOEw5PUNFSElIKzZPVU5GVEBHSEX/2wBDAQwNDREPESESEiFFLicuRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUX/wAARCAAQACADASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAQMCBAf/xAAcEAEAAwACAwAAAAAAAAAAAAABAAIRA0ExobH/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAwT/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAMAwEAAhEDEQA/ANCabFtTv7LCkU8Yuyu1ktQrxnVfcaGHiEwh0jTX/9k=">
      <div class="article-header__gradient" style="background: linear-gradient(90deg, rgba(196,227,232, 1) 0%, rgba(196,227,232, 0.72) 8.31%, rgba(196,227,232, 0) 17.1%), linear-gradient(270deg, rgba(196,227,232, 1) 0%, rgba(196,227,232, 0.72) 8.06%, rgba(196,227,232, 0) 16.59%), linear-gradient(0deg, rgba(196,227,232, 1) 8.26%, rgba(196,227,232, 0.8) 65%, rgba(196,227,232, 0) 100%);"></div>
        <picture>
          <source srcset="https://c.mql5.com/2/183/20390-price-action-analysis-toolkit-development-part-53-pattern-density_600x314.jpg, https://c.mql5.com/2/183/20390-price-action-analysis-toolkit-development-part-53-pattern-density_1200x628.jpg 2x" media="(min-width:700px)">
          <img class="article-header__image" loading="lazy" width="600" height="314" srcset="https://c.mql5.com/2/183/20390-price-action-analysis-toolkit-development-part-53-pattern-density_300x157.jpg, https://c.mql5.com/2/183/20390-price-action-analysis-toolkit-development-part-53-pattern-density_600x314.jpg 2x" src="https://c.mql5.com/2/183/20390-price-action-analysis-toolkit-development-part-53-pattern-density_600x314.jpg" alt="Price Action Analysis Toolkit Development (Part 53): Pattern Density Heatmap for Support and Resistance Zone Discovery" onerror="this.style.display='none';">
        </picture>
    </section>
    <section class="article-header__content">
      <h1>Price Action Analysis Toolkit Development (Part 53): Pattern Density Heatmap for Support and Resistance Zone Discovery</h1>
      <div class="article-header__info">
        <a href="/en/articles/mt5">MetaTrader 5</a>
          &mdash;
          <a href="/en/articles/mt5/indicators">Indicators</a>
        | <time datetime="2025-11-28T10:09Z" title="10:09" datetime-type="datetime">28 November 2025, 10:09</time>
      </div>
      <div class="article-header__indicators">
        <span title="Views">
          <img src="https://c.mql5.com/i/icons.svg#views-usage" width="20" height="20" alt="" />
          3 623
        </span>
        <span title="Comments">
          <img src="https://c.mql5.com/i/icons.svg#comments-usage" width="20" height="20" alt="" />
          2
        </span>
      </div>
      <div class="article-header__author">
          <div class="article-header__avatar">
            <img src="https://c.mql5.com/avatar/2025/10/68fd3661-daee.png" srcset="https://c.mql5.com/avatar/2025/10/68fd3661-daee_big.png 2x" data-user-login="Lynnchris" title="Christian Benjamin" alt="Christian Benjamin" loading="lazy" width="60" height="60">
          </div>
<a class="author" href="/en/users/lynnchris" data-user-login="Lynnchris">Christian Benjamin</a>      </div>
    </section>
  </header>

    <div class="content">
      <div class="inner">
        <h3 id="para1">Introduction</h3> <p>In <a href="/en/articles/20313" target="_blank">part 51</a> of our <a href="/en/users/lynnchris/publications" target="_blank">Price Action Analysis Toolkit Development </a>series, we introduced a tool that scans and highlights candlestick patterns directly on the chart. The logic was simple yet powerful—type a pattern name, press the search button, and the tool would locate all historical occurrences within a defined lookback period, continue monitoring, and alert in real time whenever the pattern re‑formed. At that time, the focus was purely on identifying patterns themselves. Little did I realize that those historical detections could serve a much greater purpose: revealing price levels where the market has shown repeated reactions. Over time, such levels often behave as support—a floor where price tends to bounce upwards—or resistance—a ceiling where price tends to reverse downwards. Knowing these levels in advance allows traders to anticipate market behavior, refine entry and exit timing, place stops more strategically, and avoid trading blindly into high‑reaction areas. </p> <p>Recognizing this, the next logical step was to develop a system that transforms past candlestick detections into price density zones, then monitors how upcoming price movement interacts with them. This can help traders act proactively when price approaches a statistically significant level instead of reacting too late.</p> <p>In this article, we introduce the <u>Pattern Density Heatmap</u>, a tool that automatically creates and visualizes these zones from prior candlestick activity, tracks future price movements around them, and triggers alerts when price nears each zone. We begin with an overview and purpose, then examine the MQL5 implementation, discuss the outcomes, and finally draw our conclusion.</p> <p>Below is the Table of Contents, followed by detailed coverage of each section.</p> <ul> <li><a href="/en/articles/20390#para1">Introduction</a></li> <li><a href="/en/articles/20390#para2">Overview and Purpose</a></li> <li><a href="/en/articles/20390#para3">MQL5 Implementation</a></li> <li><a href="/en/articles/20390#para4">Outcomes</a></li> <li><a href="/en/articles/20390#para5">Conclusion</a></li> </ul> <p></p> <h3 id="para2"><br/><br/>Overview and Purpose</h3> <p>In trading, recognizing a single candlestick pattern can be useful, but it’s the story told by repeated patterns at the same prices that reveals the more in-depth market structure. </p> <p style="text-align:center;"> <img width="594" height="643" src="https://c.mql5.com/2/183/SCATTERED_PATTERNS.png" loading="lazy" alt style="vertical-align:middle;"/></p> <p>The <u>Pattern Density Heatmap</u> is built around that idea. Rather than marking each formation as an isolated event, it captures and visualizes the price zones where multiple patterns have clustered over time. </p> <p style="text-align:center;"> <img width="590" height="645" src="https://c.mql5.com/2/183/CLUSTER_BANDS.png" loading="lazy" alt style="vertical-align:middle;"/></p> <p>These clusters are rarely accidental; they form around levels where order flow has consistently shifted, creating areas that act as dynamic support or resistance. Because the map adapts to recent market behavior, it reflects where participants have historically committed to positions with conviction—and where they may do so again.</p> <p><u>From Pattern Detection to Price Mapping</u></p> <p>Most pattern recognition tools simply mark individual candles where a pattern has appeared. While helpful, this “<u>point-and-mark</u>” approach lacks more profound market context, offering no information about how often similar reactions occur at comparable price levels. The <u>Pattern Density Heatmap</u> addresses this gap by scanning extensive historical data—often thousands of bars—and logging every detection price from multiple pattern checks. These raw detection points are then aggregated into discrete price bins, grouping them into ranges that represent repeat-response levels in the market.&nbsp;&nbsp;</p> <p>Once grouped, each bin is scored based on</p> <ul> <li>The raw number of detections inside it.</li> <li>How recent those detections were, giving extra weight to fresh market reactions.</li> </ul> The mix of different patterns contributes to the bin’s strength.<br/> <p></p> <p style="text-align:center;"> <img width="236" height="1354" src="https://c.mql5.com/2/183/PATTERN_MAPPING.png" loading="lazy" alt style="vertical-align:middle;"/></p> <p></p> <p>This creates a statistical “<u>map</u>” of market responses that turns raw visual pattern spotting into quantified market behavior.</p> <p><u>Why These Zones Matter</u></p> <p>Price zones derived from repeated market reactions provide several trading advantages that single detections cannot match.</p> <p style="text-align:center;"> <img width="591" height="643" src="https://c.mql5.com/2/183/Importance_of_the_Tool.png" loading="lazy" alt style="vertical-align:middle;"/></p> <ul> <li><u>Anticipation over reaction</u>—High-density zones allow traders to prepare in advance. If price approaches such an area, one can anticipate potential rejection or breakout behavior and plan entries or exits accordingly.&nbsp;&nbsp;</li> <li><u>Better risk placement</u>—Stop-loss orders positioned beyond strong zones are less likely to be caught by random volatility spikes, improving both trade survivability and risk-adjusted return.&nbsp;&nbsp;</li> <li><u>Synergy with other tools</u>—Many statistically strong zones align naturally with other analytical frameworks such as Fibonacci retracements, moving averages, pivot points, or trendlines. This alignment, known as confluence, can dramatically increase the probability that the zone holds.&nbsp;&nbsp;</li> <li><u>Objectivity</u>—Because these zones are formed from actual historical responses rather than subjective visually drawn lines, they reduce bias. Traders across skill levels see the same data-driven levels.</li> </ul> <p></p> <p><u>Higher‑Timeframe Integration</u></p> <p>Market structure is multi-layered, with significant levels visible on broader timeframes sometimes acting as dominant forces over intraday action. The heatmap can verify its zones using candlestick patterns detected on a higher timeframe (HTF). When a zone appears both in the trading timeframe and in a larger context—for example, a daily chart confirming a zone seen on H1—it gains added significance. This multi‑timeframe confluence is often a deciding factor in professional trade planning, signaling areas of strong order clustering across different market participants.</p> <p><u>Purpose Across Trading Styles</u></p> <p>Because it is parameter-driven and output-agnostic, the <u>Pattern Density Heatmap</u> adapts well to different trading approaches</p> <p>1. Swing Trading</p> <ul> <li>Traders working on Daily or 4‑hour charts can scan wide historical ranges, mapping medium‑term market reaction zones. Alerts can notify them hours or days ahead when the price is approaching these areas, giving ample time to plan position entries or exits.</li> </ul> <p></p> <p>2. Scalping</p> <ul> <li>Short-term traders benefit from rapidly updated density zones on intraday charts. These zones identify high-probability turning points invisible on larger frames but critical for quick trade decisions.</li> </ul> <p></p> <p>3. Algorithmic Trading</p> <ul> <li>The tool’s ability to export full detection datasets as CSV files makes it highly attractive for systematic modeling. Quantitative developers can feed the exported data into statistical engines or machine learning models, scoring zones, optimizing entries, and integrating them into automated execution logic.</li> </ul> <p></p> <table cellspacing="0" cellpadding="3" width="100%" class="standart"> <thead> <tr> <th>Style</th> <th>LookbackBars</th> <th>Bincount</th> <th>HTF Confirm</th> <th>Benefit</th> </tr> </thead> <tbody> <tr> <td data-label="Style">Swing Trader</td> <td data-label="LookbackBars">2000</td> <td data-label="Bincount">40</td> <td data-label="HTF Confirm">Yes</td> <td data-label="Benefit">Plan days ahead</td> </tr> <tr> <td data-label="Style">Scalper</td> <td data-label="LookbackBars">500</td> <td data-label="Bincount">25</td> <td data-label="HTF Confirm">No</td> <td data-label="Benefit">Intraday reversal points</td> </tr> <tr> <td data-label="Style">Algo Trader</td> <td data-label="LookbackBars">3000</td> <td data-label="Bincount">50</td> <td data-label="HTF Confirm">Yes</td> <td data-label="Benefit">Quantitative integration</td> </tr> </tbody> </table> <p></p> <p><u>Replacing Subjectivity with Data-Driven Precision</u></p> <p>Perhaps the most valuable contribution of the <u>Pattern Density Heatmap</u> is its ability to remove guesswork from support/resistance mapping. Where traditional discretionary trading relies heavily on “eyeballing” historical highs and lows, this tool produces levels derived entirely from quantifiable repeated behaviors in the price history. The trader still benefits from the intuitive clarity of a heatmap overlay, but behind every highlighted band and zone is a numerical record of how often, how recently, and with what diversity the market has reacted there.</p> <p>By bringing statistical rigor to a traditionally visual discipline, the heatmap bridges the gap between classic price action trading and modern quantitative analysis—giving traders a repeatable, empirically based map of where to expect the market’s next significant move.</p> <h3 id="para3"><br/><br/>MQL5 Implementation</h3> <p>Developing the <u>Pattern Density Heatmap</u> as an EA in MQL5 starts with a methodical design: defining the user-configurable parameters, preparing the runtime environment, building an interactive chart-based control interface, implementing the pattern scanning engine, and supporting it with higher-timeframe confirmation, real-time alerting, precise visual rendering, and optional data export. The source code reflects this workflow through clearly segmented functions that work together seamlessly.</p> <p>The process begins in MetaEditor, which is launched from MetaTrader 5 via the F4 shortcut. We create a new Expert Advisor template, name it PatternDensityHeatmap.mq5, then define basic properties such as copyright, link, and version using #property directives. These metadata entries are important for intellectual property attribution, version tracking, and linking readers back to updates or the author’s page on MQL5.com.</p> <pre class="code"><span class="preprocessor">#property </span><span class="macro">copyright</span> <span class="string">"Copyright 2025, MetaQuotes Ltd."</span>
<span class="preprocessor">#property </span><span class="macro">link</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"https://www.mql5.com/en/users/lynnchris"</span>
<span class="preprocessor">#property </span><span class="macro">version</span>&nbsp;&nbsp; <span class="string">"1.00"</span></pre> <p>Next, we establish the EA’s input parameters—these are the settings traders can adjust from the EA properties dialog before attaching it to a chart. The parameters are organized into functional groups to improve user clarity. Detection-related inputs include the PatternName string, which may hold multiple comma-separated pattern identifiers (e.g., "hammer,doji"), a LookbackBars integer specifying how many historical bars to search, and BinCount determining the resolution of vertical segmentation of the price range into discrete bins. MinHitsToShow sets the threshold number of pattern hits required for a bin to qualify as a visible zone.</p> <pre class="code"><span class="built_in">input</span> string PatternName&nbsp;&nbsp;= <span class="string">"hammer,doji"</span>;
<span class="built_in">input</span> <span class="built_in">int</span>&nbsp;&nbsp;&nbsp;&nbsp;LookbackBars = <span class="number">2000</span>;
<span class="built_in">input</span> <span class="built_in">int</span>&nbsp;&nbsp;&nbsp;&nbsp;BinCount&nbsp;&nbsp;&nbsp;&nbsp; = <span class="number">40</span>;
<span class="built_in">input</span> <span class="built_in">int</span>&nbsp;&nbsp;&nbsp;&nbsp;MinHitsToShow= <span class="number">2</span>;</pre> <p>Display and weighting controls specify how the resulting zones appear, starting from ZoneBaseColor for their base tone to ShowSeparateLayers for displaying each pattern type separately, and UseRecencyDecay with DecayHalfLife to apply statistical decay weighting that prioritizes recent detections over older ones.</p> <pre class="code"><span class="keyword">input</span> <span class="keyword">color</span> ZoneBaseColor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="macro">clrDodgerBlue</span>;
<span class="keyword">input</span> <span class="keyword">bool</span>&nbsp;&nbsp;ShowSeparateLayers = <span class="macro">true</span>;
<span class="keyword">input</span> <span class="keyword">bool</span>&nbsp;&nbsp;UseRecencyDecay&nbsp;&nbsp;&nbsp;&nbsp;= <span class="macro">true</span>;
<span class="keyword">input</span> <span class="keyword">double</span> DecayHalfLife&nbsp;&nbsp;&nbsp;&nbsp; = <span class="number">250.0</span>;</pre> <p>Higher-timeframe and alert parameters define optional multi-timeframe confirmation (HTF_Timeframe and HTF_ConfirmZones), proximity sensitivity (ApproachThresholdPips), and cooldown times (ZoneAlertCooldown). </p> <pre class="code"><span class="keyword">input</span> <span class="macro">ENUM_TIMEFRAMES</span> HTF_Timeframe = <span class="macro">PERIOD_H1</span>;
<span class="keyword">input</span> <span class="keyword">bool</span> HTF_ConfirmZones&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = <span class="macro">false</span>;
<span class="keyword">input</span> <span class="keyword">int</span>&nbsp;&nbsp;ApproachThresholdPips&nbsp;&nbsp;&nbsp;&nbsp;= <span class="number">8</span>;
<span class="keyword">input</span> <span class="keyword">int</span>&nbsp;&nbsp;ZoneAlertCooldown&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="number">300</span>;</pre> <p>Marker styling inputs, such as ShowPatternMarkers, MarkerColor, and MarkerOpacity, tune the exact candle markers drawn when detections occur. Finally, export options (ExportCSV, CSVFileName, AppendCSV) allow the EA to save its detection records for offline analysis, appending to or overwriting existing data.</p> <pre class="code"><span class="keyword">input</span> <span class="keyword">bool</span>&nbsp;&nbsp; ShowPatternMarkers = <span class="macro">true</span>;
<span class="keyword">input</span> <span class="keyword">color</span>&nbsp;&nbsp;MarkerColor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="macro">clrGold</span>;
<span class="keyword">input</span> <span class="keyword">int</span>&nbsp;&nbsp;&nbsp;&nbsp;MarkerOpacity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="number">30</span>;
<span class="keyword">input</span> <span class="keyword">bool</span>&nbsp;&nbsp; ExportCSV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="macro">true</span>;
<span class="keyword">input</span> <span class="keyword">string</span> CSVFileName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="string">"pattern_detections.csv"</span>;
<span class="keyword">input</span> <span class="keyword">bool</span>&nbsp;&nbsp; AppendCSV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="macro">true</span>;</pre> <p>Following the parameter declarations, the code sets up runtime variables to store the current state. These include boolean toggles mirroring the inputs, ensuring that when a user clicks a button on the chart to enable or disable a feature, the change is registered immediately without removing and reattaching the EA. Arrays are declared to store market data (MqlRates g_rates[]), the detected pattern names (g_patterns[]), per-pattern hit counters (g_pattern_hits[]), and bin tallies (g_bins_flat[]). Detection logs are managed in the Detection g_detections[] structure, containing each pattern’s name, time, price, and decay weight. The code also keeps track of alert history in an array g_alert_sent[] to avoid repeated notifications for the same zone on each tick.</p> <pre class="code"><span class="keyword">bool</span> runtime_UseRecencyDecay;
<span class="predefines">MqlRates</span> g_rates[];
<span class="keyword">string</span>&nbsp;&nbsp; g_patterns[];
<span class="keyword">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_pattern_hits[];
<span class="keyword">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g_bins_flat[];
Detection g_detections[];
<span class="keyword">bool</span>&nbsp;&nbsp;&nbsp;&nbsp; g_alert_sent[];</pre> <p>The initialization routine OnInit() is called when the EA starts. It first synchronizes runtime toggles with the values set in the input parameters, adjusts the alert tracking arrays to match the maximum zones available, and calls ParsePatternList() to convert the comma-separated pattern string into a usable array of lowercase names, assigning each a distinct color from a preset palette. It then builds the on-chart control panel by invoking CreateCompactUI(), which lays out small clickable buttons along the chart’s edge, allowing the trader to rescan, clear zones, toggle features, and show or hide the legend or markers at will. If the AutoRescanOnStart option is enabled, the EA sleeps briefly (to ensure chart readiness) and runs its scanning engine immediately, so that results are visible as soon as it is attached.</p> <pre class="code"><span class="keyword">int</span> <span class="functions">OnInit</span>()
{
&nbsp;&nbsp; runtime_UseRecencyDecay = UseRecencyDecay;
&nbsp;&nbsp; <span class="functions">ArrayResize</span>(g_alert_sent, MaxZonesToDraw);
&nbsp;&nbsp; ParsePatternList();
&nbsp;&nbsp; CreateCompactUI();
&nbsp;&nbsp; <span class="keyword">if</span>(AutoRescanOnStart) { <span class="functions">Sleep</span>(<span class="number">100</span>); ScanAndDraw(); }
&nbsp;&nbsp; <span class="keyword">return</span> <span class="macro">INIT_SUCCEEDED</span>;
}</pre> <p>Interactivity is handled by OnChartEvent(), which listens for object click events and compares them against known button names, such as OBJ_BTN_RESCAN or OBJ_TG_DECAY. When a match is found, the corresponding runtime toggle is flipped, the status text is updated, and AutoRescanIfAllowed() runs if the user has enabled instant rescanning upon toggle changes. This architectural choice turns the EA into a live, user-driven system where each parameter can be changed mid-session from the chart without diving back into the properties dialog.</p> <pre class="code"><span class="keyword">void</span> <span class="functions">OnChartEvent</span>(<span class="keyword">int</span> id, <span class="keyword">const</span> <span class="keyword">long</span> &amp;lparam, <span class="keyword">const</span> <span class="keyword">double</span> &amp;dparam, <span class="keyword">const</span> <span class="keyword">string</span> &amp;sparam)
{
&nbsp;&nbsp; <span class="keyword">if</span>(sparam == OBJ_BTN_RESCAN) ScanAndDraw();
&nbsp;&nbsp; <span class="keyword">else</span> <span class="keyword">if</span>(sparam == OBJ_TG_DECAY)
&nbsp;&nbsp; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime_UseRecencyDecay = !runtime_UseRecencyDecay;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AutoRescanIfAllowed();
&nbsp;&nbsp; }
}</pre> <p>The UI creation functions (CreateTinyButtonIfMissing and UpdateToggleButtons) ensure that each control button exists, has the proper label, color-coding for ON/OFF states, and is placed correctly in the chart coordinates. They also manage the status box, showing current configuration settings and scan summaries in a neat overlay when toggled.</p> <pre class="code">CreateTinyButtonIfMissing(OBJ_BTN_RESCAN, <span class="number">8</span>, <span class="number">8</span>, <span class="number">84</span>, <span class="number">20</span>, <span class="string">"Rescan"</span>);
CreateTinyButtonIfMissing(OBJ_TG_DECAY,&nbsp;&nbsp; <span class="number">98</span>, <span class="number">8</span>, <span class="number">84</span>, <span class="number">20</span>, <span class="string">"Decay"</span>);</pre> <p>The pattern parsing step, encapsulated in ParsePatternList(), is key to the scanning logic. It handles splitting user input like "hammer, doji" into array entries, removes empty strings, converts names to lowercase for matching, assigns them alternating colours from a palette, and initializes all counters. The bin array (g_bins_flat) is also reset here, sized to patterns_count × BinCount, ready to accumulate detections.</p> <pre class="code"><span class="keyword">int</span> n = <span class="functions">StringSplit</span>(PatternName, <span class="string">','</span>, parts);
<span class="keyword">for</span>(<span class="keyword">int</span> p=<span class="number">0</span>; p&lt;n; p++)
{
&nbsp;&nbsp; g_patterns[p] = ConvertToLower(parts[p]);
&nbsp;&nbsp; g_pattern_colors[p] = palette[p % <span class="functions">ArraySize</span>(palette)];
}
<span class="functions">ArrayResize</span>(g_bins_flat, g_patterns_count * BinCount);
<span class="functions">ArrayInitialize</span>(g_bins_flat, <span class="number">0</span>);</pre> <p>The core detection and rendering engine, ScanAndDraw(), is the most substantial part of the EA. It starts by updating the status display to “Scanning...” and calculates safe defaults for lookback bars and bin numbers. It parses the patterns again to ensure the arrays are in sync, clears previous detections, and allocates space for market data. Using CopyRates(), it loads OHLC price data for the specified lookback period, determines the minimum and maximum prices to establish the bin height, and calculates the bin size. </p> <p>Then it loops backward through each bar in the lookback, and through each pattern, calling IsPatternAtIndex() to see if the bar matches the criteria for that candlestick type. When matches are found, hit counts are incremented, the detection price is anchored per polarity rules (bullish patterns to candle lows, bearish to highs), and the bin index for that price is computed. Recency decay weighting is applied as a multiplier, making recent bars contribute more “weight” to their bins. Bins are incremented accordingly, and if CSV export or markers are enabled, a detection record is saved to g_detections[].</p> <pre class="code">g_rates_copied = <span class="functions">CopyRates</span>(<span class="predefines">_Symbol</span>, <span class="predefines">_Period</span>, <span class="number">0</span>, barsToCopy, g_rates);
<span class="keyword">for</span>(<span class="keyword">int</span> bar=<span class="number">1</span>; bar&lt;lookback &amp;&amp; bar&lt;g_rates_copied; ++bar)
{
&nbsp;&nbsp; <span class="keyword">for</span>(<span class="keyword">int</span> p=<span class="number">0</span>; p&lt;g_patterns_count; ++p)
&nbsp;&nbsp; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>(IsPatternAtIndex(g_patterns[p], bar, g_rates))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="keyword">int</span> binIndex = (<span class="keyword">int</span>)<span class="functions">MathFloor</span>((pricePoint - g_price_min) / binSize);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g_bins_flat[p*BinCount + binIndex] += intContrib;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp; }
}</pre> <p>When all bars are processed, bins are combined across patterns into combinedBins, and any bin meeting the scaled minimum hits threshold becomes a ZoneRec structure, holding bin index, hit count, price range, score placeholder, HTF confirmation flag, and last alert time. </p> <pre class="code"><span class="keyword">for</span>(<span class="built_in">int</span> b=<span class="number">0</span>; b&lt;BinCount; ++b)
{
&nbsp;&nbsp; <span class="built_in">int</span> <span class="built_in">sum</span> = <span class="number">0</span>;
&nbsp;&nbsp; <span class="keyword">for</span>(<span class="built_in">int</span> p=<span class="number">0</span>; p&lt;g_patterns_count; ++p)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="built_in">sum</span> += g_bins_flat[p*BinCount + b];
&nbsp;&nbsp; combinedBins[b] = <span class="built_in">sum</span>;
&nbsp;&nbsp; <span class="keyword">if</span>(combinedBins[b] &gt;= scaledMinHits)
&nbsp;&nbsp; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZoneRec z; z.<span class="built_in">bin</span> = b; z.count = <span class="built_in">sum</span>;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z.low = g_price_min + b*binSize; z.high = z.low + binSize;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zones[zoneCount++] = z;
&nbsp;&nbsp; }
}</pre> <p>If higher-timeframe confirmation is requested, the EA calls ConfirmZonesWithHTF() to run a similar detection loop on a second dataset from the chosen HTF, marking zones that see pattern hits in that bigger picture as confirmed.</p> <pre class="code"><span class="keyword">if</span>(IsPatternAtIndex(g_patterns[p], bar, htf_rates) &amp;&amp;
&nbsp;&nbsp; pricePoint &gt;= zones[z].low &amp;&amp; pricePoint &lt;= zones[z].high)
&nbsp;&nbsp; zones[z].htf_confirmed = <span class="keyword">true</span>;</pre> <p>Zone scores are then computed: scaling raw hit counts to a range of 1–100, applying a small boost if HTF-confirmed, and filtering out unconfirmed zones in strict mode.</p> <pre class="code"><span class="keyword">double</span> <span class="keyword">base</span> = zones[i].count;
<span class="keyword">double</span> factor = zones[i].htf_confirmed ? <span class="number">1.4</span> : <span class="number">1.0</span>;
zones[i].score = (<span class="keyword">int</span>)MathRound((<span class="keyword">base</span> / maxRaw) * <span class="number">100</span> * factor);</pre> <p>Zones are sorted by hit count in descending order, limited to MaxZonesToDraw, and drawn onto the chart as semi-transparent rectangles spanning their price range, with opacity proportional to hit strength. Each has an OBJ_LABEL displaying its index, hits, score, HTF status, and midpoint price. </p> <pre class="code"><span class="keyword">color</span> pc = MakeColorWithAlpha(g_pattern_colors[p], alpha);
<span class="functions">ObjectCreate</span>(<span class="number">0</span>, obj, <span class="macro">OBJ_RECTANGLE</span>, <span class="number">0</span>, time_left, lowP, time_right, highP);
<span class="functions">ObjectSetInteger</span>(<span class="number">0</span>, obj, <span class="macro">OBJPROP_COLOR</span>, pc);</pre> <p>If ShowSeparateLayers is toggled ON, additional rectangles in per-pattern colours are drawn over their contributing bins, providing granularity on pattern composition. </p> <pre class="code"><span class="keyword">color</span> pc = MakeColorWithAlpha(g_pattern_colors[p], alpha);
<span class="functions">ObjectCreate</span>(<span class="number">0</span>, obj, <span class="macro">OBJ_RECTANGLE</span>, <span class="number">0</span>, time_left, lowP, time_right, highP);
<span class="functions">ObjectSetInteger</span>(<span class="number">0</span>, obj, <span class="macro">OBJPROP_COLOR</span>, pc);</pre> <p>For traders auditing results, DrawPerfectPatternMarkers() frames the exact candles that caused detections, optionally filled with semi-transparent colour. </p> <pre class="code"><span class="functions">ObjectCreate</span>(chartId, markerName, <span class="macro">OBJ_RECTANGLE</span>, <span class="number">0</span>, startTime, candle.low, endTime, candle.high);</pre> <p>Finally, if ShowLegend is true, DrawPatternLegend() lists all patterns with their total hit counts in a left-corner overlay, and if CSV export is enabled, ExportDetectionsToCSV() writes the detection records to the designated file.</p> <pre class="code"><span class="functions">ObjectSetString</span>(<span class="number">0</span>, nm, <span class="macro">OBJPROP_TEXT</span>, <span class="functions">StringFormat</span>(<span class="string">"%s : %d"</span>, g_patterns[p], g_pattern_hits[p]));</pre> <p>The EA’s alerting mechanism is designed for precision and minimal noise. After zones are drawn, g_alert_sent[] is reset, and if alerts are enabled, the EA calls CheckAndAlertApproachingZones() to compare the current bid price to each zone’s midpoint. If the absolute distance is less than the pip threshold and the cooldown has expired, and if HTF rules are satisfied, a single alert is triggered. This alert includes the zone ID, symbol, timeframe, midpoint price, score, and HTF confirmation status; plays a sound if configured; and sends a push notification if the terminal allows. Importantly, the alert flag for that zone is set so no further alerts occur until price moves away beyond the threshold and returns again, making alerts deterministic and actionable.</p> <pre class="code"><span class="keyword">if</span>(dist &lt;= tol &amp;&amp; !g_alert_sent[i])
{
&nbsp;&nbsp; <span class="functions">Alert</span>(msg);
&nbsp;&nbsp; g_alert_sent[i] = <span class="macro">true</span>;
}</pre> <p>In addition to ScanAndDraw() and alert functions, the EA implements pattern detection helpers for each candlestick type, e.g., CheckHammerFromArray() compares candle body size to total range and shadow ratios to precisely identify true hammers per accepted trading definitions. These checks prevent false positives from “look-alike” candles lacking proper reversal geometry. Similar functions exist for doji, inverted hammer, engulfing patterns, morning star, evening star, tweezers, spinning tops, and marubozu, each crafted with quantitative rules for open/close relationships and shadow proportions.</p> <pre class="code"><span class="keyword">return</span> (body/<span class="built_in">range</span>&lt;<span class="number">0.35</span> &amp;&amp; lowerShadow&gt;=<span class="number">1.8</span>*body &amp;&amp; upperShadow&lt;=<span class="number">0.6</span>*body);</pre> <p>By combining rigorous detection algorithms with real-time monitoring, on-chart interactivity, clear visualization, and statistical export, the Pattern Density Heatmap EA provides traders with a dynamic, data-driven map of where key candlestick patterns cluster in price history, turning that information into forward-looking support and resistance zones, and arming them with the alerts to act as price approaches these levels again.</p> <h3 id="para4"><br/><br/>Outcomes</h3> <p>This section presents the visual and quantitative results produced by the <u>PatternDensityHeatmap.mq5</u> EA. You’ll find a clear description of what each figure shows, how the outputs were generated, the test parameters used, practical notes for running the tool, and key takeaways from single‑pattern tests.</p> <p><u>Overview</u></p> <p>The animation and screenshots below, illustrate the EA scanning price history, detecting candlestick patterns, aggregating detection points into price bins, and drawing density zones.&nbsp;&nbsp;</p> <ol> <li>Zone thickness and opacity reflect detection strength.</li> <li>Optional per‑pattern layers reveal which patterns contribute to a zone.</li> <li>Framed markers validate exact candle matches.</li> <li>Right‑hand labels display hits, score, and HTF confirmation for straightforward verification.</li> </ol> <p></p> <p>The sequence demonstrates both:</p> <ul> <li>Composite multi‑pattern scans</li> <li>Targeted single‑pattern tests (hammer and doji)</li> </ul> <p></p> <p>Full Rescan Animation (Composite Patterns)</p> <p>A full rescan and draw pass with PatternName = "hammer, doji". Zones form live on the chart, per‑pattern layers appear, and markers frame exact candles. Shows how composite heatmaps emerge from multiple pattern types and how UI toggles (Rescan, Layers, Decay, CSV, Polarity, Legend, Markers) update in real time.</p> <p style="text-align:center;"> <img width="586" height="644" src="https://c.mql5.com/2/183/CLUSTER_ZONES.gif" loading="lazy" alt style="vertical-align:middle;"/></p> <p>The figure above, Pattern Density Heatmap in action (composite). Rescan converts pattern detections into color‑graded zones; per‑pattern layers and framed markers highlight contributor breakdown and exact candle matches.</p> <p><u>Hammer (Single‑Pattern Test)</u></p> <ul> <li>Heatmap produced with PatternName = "hammer" only.</li> <li>Shows the primary hammer cluster with EA hit count (hammer: 29).</li> <li>Use this view to check if hammer clusters align with price reaction levels (support) and to fine‑tune bin sizing and hit threshold for greater zone precision.</li> </ul> <p></p> <p style="text-align:center;"> <img width="586" height="645" src="https://c.mql5.com/2/183/Hammer.png" loading="lazy" alt style="vertical-align:middle;"/></p> <p>The figure above, Hammer single‑pattern test (count = 29). Highlighted band marks concentrated hammer occurrences used to infer a support zone.</p> <p><u>Doji (Single‑Pattern Test)</u></p> <ul> <li>Heatmap produced with PatternName = "doji" only.</li> <li>Multiple narrow doji clusters are visible with EA hit count (doji: 67).</li> <li>Helps determine whether dojis concentrate at consolidation levels or scatter widely.</li> </ul> <p></p> <p style="text-align:center;"> <img width="593" height="642" src="https://c.mql5.com/2/183/Doji.png" loading="lazy" alt style="vertical-align:middle;"/></p> <p>The figure above, Doji single‑pattern test (count = 67). Narrow bands indicate repeated indecision candles around key price levels.</p> <p><u>Test Parameters Used</u></p> <table cellspacing="0" cellpadding="3" width="100%" class="standart"> <thead> <tr> <th>Test</th> <th>PatternName</th> <th>LookbackBars</th> <th>BinCount</th> <th>MinHitsToShow</th> </tr> </thead> <tbody> <tr> <td data-label="Test">Gif</td> <td data-label="PatternName">hammer, doji</td> <td data-label="LookbackBars">2000</td> <td data-label="BinCount">40</td> <td data-label="MinHitsToShow">2</td> </tr> <tr> <td data-label="Test">Fig 1</td> <td data-label="PatternName">hammer</td> <td data-label="LookbackBars">500</td> <td data-label="BinCount">40</td> <td data-label="MinHitsToShow">2</td> </tr> <tr> <td data-label="Test">Fig 2</td> <td data-label="PatternName">doji</td> <td data-label="LookbackBars">500</td> <td data-label="BinCount">40</td> <td data-label="MinHitsToShow">2</td> </tr> </tbody> </table> <p><u>How the Outputs Were Generated</u></p> <p><u></u>For each run, the EA begins by loading the last LookbackBars worth of market data from the chart. It determines the minimum and maximum prices over that range and calculates a precise binSize to divide the vertical price space into equal segments. The scanning loop then processes each bar individually, applying the selected pattern detection algorithms—for example, CheckHammerFromArray() or CheckDojiFromArray()—to decide whether the candle matches any of the target formations. When a match is found, the EA computes the relevant price point (midpoint, low, or high, depending on polarity anchoring rules) and maps it to the correct bin index. Each bin’s counter is incremented, with a weighting adjustment applied if recency decay is enabled to give newer detections more influence.&nbsp;&nbsp;</p> <p>Bins whose hit counts exceed the MinHitsToShow threshold are promoted to ZoneRec entries. These zones can be checked for higher‑timeframe confirmation, then scored and sorted so that stronger reaction areas are prioritized. Top‑ranking zones are rendered as filled OBJ_RECTANGLE overlays, with optional per‑pattern layers and precise rectangle markers framing the actual candles that triggered detections. Labels placed alongside each zone list key reference data, including total hits, the normalized score, and whether the zone is HTF‑confirmed. If CSV export is active, the EA records each detection’s data to file for offline analysis.</p> <p><u>Practical Notes&nbsp;</u></p> <p>When exporting detection data to CSV, remember that files are written to the terminal’s working directory—MetaTrader 5 must have file system permissions granted, or export will fail. The live approach‑alert logic relies on the textual content of the zone labels; if those label objects are renamed manually, the alert system can lose track of zones. All chart objects created by the EA carry a PDHP_ prefix to avoid clashes with other indicators and EAs. If object creation fails, it can be due to naming collisions or insufficient historical bars for the selected LookbackBars setting.&nbsp;&nbsp;</p> <p>Recency decay behavior is steered by the DecayHalfLife parameter—lower values make old detections fade faster, increasing the weight of recent pattern hits. Polarity anchoring is worth testing in isolation, as it adjusts the price point used per detection: bullish patterns anchor to candle lows, and bearish patterns anchor to candle highs. This can sharpen zone alignment in certain strategies, but should be verified with single‑pattern runs.</p> <p><u>Short Takeaways</u></p> <p>The composite scan shown in the GIF demonstrates that overlapping pattern types can combine into powerful, visually distinct zones. These composite zones are ideal for traders seeking higher confidence levels by requiring multiple pattern signals to align. The hammer single‑pattern run isolated one concentrated cluster (count = 29) resembling a strong support area—an example of how a single formation can point to a bias for entries near that level. In contrast, the doji single‑pattern test produced multiple narrow bands (count = 67), reflecting repeated market indecision spread across different price anchors. These doji clusters are best interpreted as consolidation signals rather than immediate reversal triggers.&nbsp;&nbsp;</p> <p>Across all tests, single‑pattern scans proved indispensable for validating detection logic and deciding which formations deserve greater weighting in a composite heatmap. This process ensures the tool’s aggregated outputs are built on patterns with proven individual relevance.</p> <h3 id="para5"><br/><br/>Conclusion</h3> <p>The Pattern Density Heatmap represents a significant evolution in our Price Action Analysis Toolkit. What began as a simple candlestick‑pattern search and alert tool in Part 51 of this series has grown into a sophisticated market‑mapping system capable of identifying, quantifying, and tracking statistically significant price zones derived from historical candlestick behavior. By automating the aggregation of multiple patterns into measurable price bins, then scoring and confirming these zones against higher‑timeframe data, the indicator moves pattern trading from a purely visual art into a data‑driven process. Traders no longer need to rely on intuition alone—they can watch in real time when the market has repeatedly reacted and be alerted when price approaches these high‑density zones.&nbsp;&nbsp;</p> <p>This transforms the way support and resistance are recognized: no longer as subjective lines drawn by eye, but as empirically validated zones backed by hard detection statistics, with a proven likelihood of influencing future market movements. These levels mark out the points where market reactions have consistently occurred, giving traders clear, objective reference areas that can anchor both entry and exit timing. The combination of clear heatmap visuals, precise candle markers, approach alerts, and exportable datasets makes the tool versatile and applicable across multiple trading styles—from intraday scalping to multi‑day swing trading, from discretionary setups to fully automated systems ingesting CSV analytics.</p> <p>In practical terms, this means</p> <ul> <li>Better trade timing through anticipation rather than reaction.</li> <li>Improved risk management by avoiding trades into historically reactive zones.</li> <li>Greater strategy confidence via multi‑timeframe confluence.</li> <li>Extensible datasets for offline statistical evaluation or machine learning modeling.</li> </ul> <p></p> <p>As you integrate the Pattern Density Heatmap into your workflow, experiment with different pattern lists, lookback periods, and HTF settings to find the configuration that best matches your trading horizon and chosen market. Doing so will unlock the tool’s full potential—turning hidden clusters of market reactions into actionable, verified support and resistance maps, and keeping you consistently one step ahead of price. With the Pattern Density Heatmap, support and resistance are no longer guesswork—they’re measured, mapped, and waiting for price to confirm.</p>
      </div>
<div id="cb_20390" class="attachBlock">
  <strong>Attached files</strong> |
  <div class="grouped-attachments-help">
    <a title="Download all attachments in the single ZIP archive" href="/en/articles/download/20390.zip">
      <i class="attach-icon attach-icon_zip"></i>Download ZIP
    </a>
  </div>
    <div class="attachItem">
      <a title="Download PatternDensityHeatmap.mq5" href="/en/articles/download/20390/PatternDensityHeatmap.mq5"><i class="attach-icon attach-icon_mq5"></i>PatternDensityHeatmap.mq5</a>
      <span class="attachSize">(101.81 KB)</span>
    </div>
</div>
    </div>

  <div class="copyright">
    <p><strong>Warning:</strong> All rights to these materials are reserved by MetaQuotes Ltd. Copying or reprinting of these materials in whole or in part is prohibited.</p>
      <p>This article was written by a user of the site and reflects their personal views. MetaQuotes Ltd is not responsible for the accuracy of the information presented, nor for any consequences resulting from the use of the solutions, strategies or recommendations described.</p>
  </div>



  <div class="other-author-articles ui">
    <h4 class="other-author-articles__title">Other articles by this author</h4>
    <ul class="other-author-articles__list">
        <li>
          <a href="/en/articles/20387" data-fz-event="MQL5+Article+From+Author+Article">Price Action Analysis Toolkit Development (Part 52): Master Market Structure with Multi-Timeframe Visual Analysis</a>
        </li>
        <li>
          <a href="/en/articles/20313" data-fz-event="MQL5+Article+From+Author+Article">Price Action Analysis Toolkit Development (Part 51): Revolutionary Chart Search Technology for Candlestick Pattern Discovery</a>
        </li>
        <li>
          <a href="/en/articles/20262" data-fz-event="MQL5+Article+From+Author+Article">Price Action Analysis Toolkit Development (Part 50): Developing the RVGI, CCI and SMA Confluence Engine in MQL5</a>
        </li>
        <li>
          <a href="/en/articles/20168" data-fz-event="MQL5+Article+From+Author+Article">Price Action Analysis Toolkit Development (Part 49): Integrating Trend, Momentum, and Volatility Indicators into One MQL5 System</a>
        </li>
        <li>
          <a href="/en/articles/20097" data-fz-event="MQL5+Article+From+Author+Article">Price Action Analysis Toolkit Development (Part 48): Multi-Timeframe Harmony Index with Weighted Bias Dashboard</a>
        </li>
        <li>
          <a href="/en/articles/19944" data-fz-event="MQL5+Article+From+Author+Article">Price Action Analysis Toolkit Development (Part 47): Tracking Forex Sessions and Breakouts in MetaTrader 5</a>
        </li>
    </ul>
  </div>


  <div class="article__last-comments" id="articleAdditional">
    

<div class="comments-preview">
    <div class="title">
      <span></span><b>
         Last comments |
 <a href="/en/forum/500870">Go to discussion</a>
      </b>
        (2)
    </div>
    <div>
        
        <div class="comment">
          <div class="user"><div class="frame"><div class="bg"><img src="https://c.mql5.com/avatar/2025/3/67E6ED07-BDF7.jpg" srcset="https://c.mql5.com/avatar/2025/3/67E6ED07-BDF7_big.jpg 2x" alt="irabor Emmanuel" title="irabor Emmanuel" data-user-login="iraborEmmanuel" loading="lazy" width="60" height="60"></div></div></div>

          <div class="text">
            <div>
              <b><a class="author" href="/en/users/iraboremmanuel" data-user-login="iraborEmmanuel">irabor Emmanuel</a></b>
              |
              <span class="comment__date">28 Nov 2025 at 12:19</span>
              <a id="comment_58614375"></a>
              <span class="commands"><span class="command newMessageLink"><a title="Send a private message to irabor Emmanuel" href="/en/users/deszkmihaly67/messages" onclick="if(window.openChatWith){window.openChatWith('iraboremmanuel',26513698,'irabor Emmanuel');return false;}if(window.doPost) { window.doPost(null,'/en/users/deszkmihaly67/messages',null,{'user':'iraborEmmanuel'}); return false; }"></a></span>
<span class="command translateMenu translateLink" data-contentId="content58614375" data-sourceLang="en" data-targetLang="en" data-moduleId="3" data-typeId="17" data-entityId="58614375" ><a href="#" class="selected" title="Translate into any of the 15 languages">EN</a></span></span>

            </div>
            <div class="content" id="content58614375">
              Good morning please can you use this indicator to do an ea bot for me
            </div>
          </div>
        </div>
        <div class="comment">
          <div class="user"><div class="frame"><div class="bg"><img src="https://c.mql5.com/avatar/2019/4/5CB0FE21-E283.jpg" srcset="https://c.mql5.com/avatar/2019/4/5CB0FE21-E283_big.jpg 2x" alt="Juvenille Emperor Limited" title="Juvenille Emperor Limited" data-user-login="eleanna74" loading="lazy" width="60" height="60"></div></div></div>

          <div class="text">
            <div>
              <b><a class="author" href="/en/users/eleanna74" data-user-login="eleanna74">Eleni Anna Branou</a></b>
              |
              <span class="comment__date">28 Nov 2025 at 15:10</span>
              <a id="comment_58615454"></a>
              <span class="commands"><span class="command newMessageLink"><a title="Send a private message to Eleni Anna Branou" href="/en/users/deszkmihaly67/messages" onclick="if(window.openChatWith){window.openChatWith('eleanna74',1283352,'Eleni Anna Branou');return false;}if(window.doPost) { window.doPost(null,'/en/users/deszkmihaly67/messages',null,{'user':'eleanna74'}); return false; }"></a></span>
<span class="command translateMenu translateLink" data-contentId="content58615454" data-sourceLang="en" data-targetLang="en" data-moduleId="3" data-typeId="17" data-entityId="58615454" ><a href="#" class="selected" title="Translate into any of the 15 languages">EN</a></span></span>

            </div>
            <div class="content" id="content58615454">
              <div class="fquote"> <strong><span style="color:#42639C;">irabor Emmanuel <a href="/en/forum/500870#comment_58614375">#</a></span>:</strong><br/> Good morning please can you use this indicator to do an ea bot for me </div> <p>Post your requirements as a job in the <a href="/en/job" target="_blank">Freelance</a> section please.</p>
            </div>
          </div>
        </div>
    </div>

  
</div>

  </div>


    <div class="articles-bottom-list">
        <div class="articles-bottom-list__row">
          <div class="articles-bottom-list__column">
              <div class="articles-bottom-list__item">
                <img alt="Features of Custom Indicators Creation" src="https://c.mql5.com/2/16/77_1.gif" loading="lazy" width="60" height="60" class="articles-bottom-list__avatar">
                <a href="/en/articles/1497" data-fz-event="MQL5+Article+Next+Article" class="articles-bottom-list__title">Features of Custom Indicators Creation</a>
                <div class="articles-bottom-list__desc">Creation of Custom Indicators in the MetaTrader trading system has a number of features.</div>
              </div>
          </div>
          <div class="articles-bottom-list__column">
              <div class="articles-bottom-list__item">
                <img alt="Introduction to MQL5 (Part 29): Mastering API and WebRequest Function in MQL5 (III)" src="https://c.mql5.com/2/183/20375-introduction-to-mql5-part-29-logo__1.png" loading="lazy" width="60" height="60" class="articles-bottom-list__avatar">
                <a href="/en/articles/20375" data-fz-event="MQL5+Article+Next+Article" class="articles-bottom-list__title">Introduction to MQL5 (Part 29): Mastering API and WebRequest Function in MQL5 (III)</a>
                <div class="articles-bottom-list__desc">In this article, we continue mastering API and WebRequest in MQL5 by retrieving candlestick data from an external source. We focus on splitting the server response, cleaning the data, and extracting essential elements such as opening time and OHLC values for multiple daily candles, preparing the data for further analysis.</div>
              </div>
          </div>
        </div>
        <div class="articles-bottom-list__row">
          <div class="articles-bottom-list__column">
              <div class="articles-bottom-list__item">
                <img alt="Features of Experts Advisors" src="https://c.mql5.com/2/16/76_2.gif" loading="lazy" width="60" height="60" class="articles-bottom-list__avatar">
                <a href="/en/articles/1494" data-fz-event="MQL5+Article+Next+Article" class="articles-bottom-list__title">Features of Experts Advisors</a>
                <div class="articles-bottom-list__desc">Creation of expert advisors in the MetaTrader trading system has a number of features.</div>
              </div>
          </div>
          <div class="articles-bottom-list__column">
              <div class="articles-bottom-list__item">
                <img alt="The MQL5 Standard Library Explorer (Part 4): Custom Signal Library" src="https://c.mql5.com/2/183/20266-the-mql5-standard-library-explorer-logo.png" loading="lazy" width="60" height="60" class="articles-bottom-list__avatar">
                <a href="/en/articles/20266" data-fz-event="MQL5+Article+Next+Article" class="articles-bottom-list__title">The MQL5 Standard Library Explorer (Part 4): Custom Signal Library</a>
                <div class="articles-bottom-list__desc">Today, we use the MQL5 Standard Library to build custom signal classes and let the MQL5 Wizard assemble a professional Expert Advisor for us. This approach simplifies development so that even beginner programmers can create robust EAs without in-depth coding knowledge, focusing instead on tuning inputs and optimizing performance. Join this discussion as we explore the process step by step.</div>
              </div>
          </div>
        </div>
    </div>

<div class="clear-fix"></div>

<div id='wdausxxqrpvhekbwjrjlhqjghyhesrqqau' class="r26nklh8wss4ljjhz r26nklh8wss4ljjhz_articles-view g9z0qx14h"></div>
    

    


    </article>
  </div>



<div aria-hidden="true" class="footer  desktop" id="footer">
  <ul class="links  links_desktop">
      <li id="navFooterCommunity">
        <b>MQL5.community</b>
        <nav>
          <ul>
            <li><a href="https://web.metatrader.app/terminal?mode=demo&amp;lang=en" target="_blank" rel="nofollow noopener" data-fz-event="MQL5+Footer+Trading">Online trading / WebTerminal</a></li>
            <li><a href="/en/code" data-fz-event="MQL5+Footer+CodeBase">Free technical indicators and robots</a></li>
            <li><a href="/en/articles" data-fz-event="MQL5+Footer+Articles">Articles about programming and trading</a></li>
            <li><a href="/en/job" data-fz-event="MQL5+Footer+Job">Order trading robots on the Freelance</a></li>
            <li><a href="/en/market" data-fz-event="MQL5+Footer+Market">Market of Expert Advisors and applications&#x9;</a></li>
            <li><a href="/en/signals" data-fz-event="MQL5+Footer+Signals">Follow forex signals</a></li>
            <li><a href="/en/vps" data-fz-event="MQL5+Footer+VPS">Low latency forex VPS</a></li>
            <li><a href="/en/forum" data-fz-event="MQL5+Footer+Forum">Traders forum</a></li>
            <li><a href="/en/blogs" data-fz-event="MQL5+Footer+Blogs">Trading blogs</a></li>
            <li><a rel="nofollow" href="/en/charts" data-fz-event="MQL5+Footer+Charts">Charts</a></li>
          </ul>
        </nav>
      </li>
      <li id="navFooterMt5">
        <b>MetaTrader 5</b>
        <nav>
          <ul>
            <li><a rel="nofollow noopener" href="https://www.metatrader5.com" data-fz-event="MQL5+Footer+MetaTrader+5"><span class="nobr">MetaTrader 5</span> Trading Platform</a></li>
            <li><a rel="nofollow noopener" href="https://www.metatrader5.com/en/releasenotes" data-fz-event="MQL5+Footer+MetaTrader+5"><span class="nobr">MetaTrader 5</span> latest updates</a></li>
            <li><a rel="nofollow noopener" href="https://www.metatrader5.com/en/news" data-fz-event="MQL5+Footer+MetaTrader+5">News, implementations and technology</a></li>
            <li><a rel="nofollow noopener" href="https://www.metatrader5.com/en/terminal/help" data-fz-event="MQL5+Footer+MetaTrader+5"><span class="nobr">MetaTrader 5</span> User Manual</a></li>
            <li><a href="/en/docs" data-fz-event="MQL5+Footer+Docs">MQL5 language of trading strategies</a></li>
            <li><a rel="nofollow noopener" href="https://cloud.mql5.com" data-fz-event="MQL5+Footer+Cloud">MQL5 Cloud Network</a></li>
            <li><a rel="noopener" href="https://forge.mql5.io/?lang=en" data-fz-event="MQL5+Footer+Forge" target="_blank">MQL5 Algo Forge</a></li>
              <li><a rel="nofollow noopener" href="https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&amp;utm_campaign=download" data-fz-event="MetaTrader+5+Desktop+Download+Footer">Download <span class="nobr">MetaTrader 5</span></a></li>
              <li><a rel="nofollow noopener" href="https://www.metatrader5.com/en/terminal/help/start_advanced/installation" data-fz-event="MQL5+Footer+MetaTrader+5">Install Platform</a></li>
              <li><a rel="nofollow noopener" href="https://www.metatrader5.com/en/terminal/help/start_advanced/deinstallation" data-fz-event="MQL5+Footer+MetaTrader+5">Uninstall Platform</a></li>
          </ul>
        </nav>

      </li>
    <li id="navFooterWebsite">
        <b >Website</b>
        <nav>
          <ul>
            <li><a rel="nofollow" href="/en/about" data-fz-event="MQL5+Footer+About">About</a></li>
              <li><a href="/en/wall" data-fz-event="MQL5+Footer+Wall">Timeline</a></li>
            <li><a rel="nofollow" href="/en/about/terms" data-fz-event="MQL5+Footer+About">Terms and Conditions</a></li>
            <li><a rel="nofollow" href="/en/about/autopayments" data-fz-event="MQL5+Footer+About">Recurring Payment Agreement</a></li>
            <li><a rel="nofollow" href="/en/about/agencyagreement" data-fz-event="MQL5+Footer+About">Agency Agreement – Offer</a></li>
            <li><a rel="nofollow" href="/en/about/privacy" data-fz-event="MQL5+Footer+About">Privacy and Data Protection Policy</a></li>
            <li><a rel="nofollow" href="/en/about/cookies" data-fz-event="MQL5+Footer+About">Cookies Policy</a></li>
            <li>
                <a rel="nofollow" href="/en/contact" data-fz-event="MQL5+Footer+Contacts">Contacts and requests</a>
            </li>
          </ul>
        </nav>
    </li>

      <li>
        <div class="footer__products">
            <div class="footer__product">
              <a target="_blank" rel="nofollow noopener" href="https://www.metatrader5.com" class="footer__product-name">MetaTrader 5</a>
              <div class="footer__product-links">
              <a rel="nofollow noopener" href="https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&amp;utm_campaign=download" class="icon windows" data-fz-event="MetaTrader+5+Desktop+Download+Footer"><div class="footer__product-link-hint footer__product-link-hint-short">Download MetaTrader 5 for Windows</div></a>
              <a rel="nofollow noopener" href="https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&amp;utm_campaign=download" class="icon macos" data-fz-event="MetaTrader+5+Desktop+Download+Footer"><div class="footer__product-link-hint footer__product-link-hint-short">Download MetaTrader 5 for MacOS</div></a>
              <a rel="nofollow noopener" href="https://www.mql5.com/en/articles/625?utm_source=www.mql5.com&amp;utm_campaign=download" class="icon linux" data-fz-event="MetaTrader+5+Desktop+Download+Footer"><div class="footer__product-link-hint footer__product-link-hint-short">Download MetaTrader 5 for Linux</div></a>
              <a rel="nofollow noopener" href="https://web.metatrader.app/terminal?mode=demo&amp;lang=en" class="icon web"><div  class="footer__product-link-hint footer__product-link-hint-short">Open MetaTrader 5 WebTerminal</div></a>
              <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/mt5/ios?utm_source=www.mql5.com&amp;utm_campaign=install.metaquotes&amp;hl=en" class="icon ios" data-fz-event="MetaTrader+5+iOS+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/j1YndT0ELP9.png)">Scan to install from App Store</div></a>
              <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/mt5/android?utm_source=www.mql5.com&amp;utm_campaign=install.metaquotes&amp;hl=en" class="icon android" data-fz-event="MetaTrader+5+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/kLq7f3IjZ79.png)">Scan to install from Google Play</div></a>
              <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/mt5/android/app-gallery?utm_source=www.mql5.com&amp;utm_campaign=install.metaquotes" class="icon huawei" data-fz-event="MetaTrader+5+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/ZgFlSvLLbPn.png)">Scan to install from Huawei AppGallery</div></a>
              <a rel="nofollow noopener" href="https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/metatrader5.apk?utm_source=www.mql5.com&amp;utm_campaign=install.metaquotes" class="icon ark" data-fz-event="MetaTrader+5+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/Lwmc2V3KIPA.png)">Scan to get Android APK file</div></a>
              </div>
            </div>
            <div>
              <div class="footer__product">
                <a target="_blank" rel="nofollow noopener" href="https://www.metatrader5.com/en/news/2270" class="footer__product-name">MQL5 Channels</a>
                <div class="footer__product-links">
                <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/mql5.channels/ios?utm_source=www.mql5.com&amp;utm_campaign=download&amp;hl=en" class="icon ios" data-fz-event="MQL5+Channels+iOS+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/bZWf3CH-YUJ.png)">Scan to install from App Store</div></a>
                <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/mql5.channels/android?utm_source=www.mql5.com&amp;utm_campaign=download&amp;hl=en" class="icon android" data-fz-event="MQL5+Channels+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/3DvQEZrJjjS.png)">Scan to install from Google Play</div></a>
                <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/mql5.channels/android/app-gallery?utm_source=www.mql5.com&amp;utm_campaign=download" class="icon huawei" data-fz-event="MQL5+Channels+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/S7GLL6gia6p.png)">Scan to install from Huawei AppGallery</div></a>
                <a rel="nofollow noopener" href="https://download.mql5.com/cdn/web/metaquotes.software.corp/mql5channels/mql5channels.apk?utm_source=www.mql5.com&amp;utm_campaign=download" class="icon ark" data-fz-event="MQL5+Channels+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/GavZeMoJbi7.png)">Scan to get Android APK file</div></a>
                </div>
              </div>
              <div class="footer__product">
                <a target="_blank" rel="nofollow noopener" href="https://www.tradays.com/en/download?utm_source=www.mql5.com&amp;utm_campaign=download" data-fz-event="MQL5+Footer+Download+Tradays" class="footer__product-name">Economic Calendar</a>
                <div class="footer__product-links">
                <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/tradays/ios?utm_source=www.mql5.com&amp;utm_campaign=download&amp;hl=en" class="icon ios" data-fz-event="Tradays+iOS+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/CA1pc8ZTZxp.png)">Scan to install from App Store</div></a>
                <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/tradays/android?utm_source=www.mql5.com&amp;utm_campaign=download&amp;hl=en" class="icon android" data-fz-event="Tradays+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/BR4u5sNJgnA.png)">Scan to install from Google Play</div></a>
                <a rel="nofollow noopener" href="https://download.mql5.com/cdn/mobile/tradays/android/app-gallery?utm_source=www.mql5.com&amp;utm_campaign=download" class="icon huawei" data-fz-event="Tradays+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/CDbwhhgyysd.png)">Scan to install from Huawei AppGallery</div></a>
                <a rel="nofollow noopener" href="https://download.mql5.com/cdn/web/metaquotes.software.corp/tradays/tradays.apk?utm_source=www.mql5.com&amp;utm_campaign=download" class="icon ark" data-fz-event="Tradays+Android+Download+Footer"><div class="footer__product-link-hint" style="background-image: url(https://c.mql5.com/qr/VGWFy3By-09.png)">Scan to get Android APK file</div></a>
                </div>
              </div>
            </div>
          </div>

          <div class="footer__networks">
            <div class="footer__networks-list">
            <a href="https://www.facebook.com/mql5.community/" target="_blank" rel="nofollow" title="Facebook"><i class="icons-networks icons-networks_fb"></i></a><a href="https://t.me/mql5dev" target="_blank" rel="nofollow" title="Telegram"><i class="icons-networks icons-networks_tg"></i></a><a href="https://x.com/mql5com" target="_blank" rel="nofollow" title="X (Twitter)"><i class="icons-networks icons-networks_tw"></i></a>
            </div>
            <span>Follow us on socials for top articles and CodeBase updates</span>
          </div>
  
        <div class="footer__other">
          <div class="footer__not-a-broker">Not a broker, no real trading accounts</div>
          <div class="copyright">35 Dodekanisou str, Germasogeia, 4043,&nbsp;Limassol,&nbsp;Cyprus</div>
          <div class="copyright">Copyright 2000-2025, <span class="nobr">MetaQuotes Ltd</span></div>
        </div>
      </li>
  </ul>
</div>



<div class="shadow-layer" id="layer"></div>



<script type='text/javascript'>
		(function (a, e, f, g, b, c, d) { a[b] || (a.FintezaCoreObject = b, a[b] = a[b] || function () { (a[b].q = a[b].q || []).push(arguments) }, a[b].l = 1 * new Date, c = e.createElement(f), d = e.getElementsByTagName(f)[0], c.async = !0, c.defer = !0, c.src = g, d && d.parentNode && d.parentNode.insertBefore(c, d)) })
      (window, document, "script", "/ff/core.js", "fz");
		window.fz("register", "website", {
      id: "sqjxkxkswybhifrohpyooonwgbvsfzmayq",
			trackLinks: true
		});
        mqGlobal.AddOnReady(function () { Mql5Cookie.init('mql5.com', '6428434430243088515'); });
mqGlobal.AddOnReady(function(){if(!window.Pocket){window.Pocket=new PocketManager();}});mqGlobal.AddOnReady(function(){if(!window.translateManager){window.translateManager=new Translate(undefined,'Error: failed to translate. Please try again later.');}if(document.querySelectorAll){var translateElements=document.querySelectorAll(".translateMenu");if(translateElements){var i=0,count=translateElements.length;for(i;i<count;i++){(function(i){var contentid=dataset(translateElements[i],"contentid"),sourcelang=dataset(translateElements[i],"sourcelang"),targetlang=dataset(translateElements[i],"targetlang"),moduleid=parseInt(dataset(translateElements[i],"moduleid")),typeid=parseInt(dataset(translateElements[i],"typeid")),entityid=parseInt(dataset(translateElements[i],"entityid"));Core.AddHandler(translateElements[i],"mouseover",function(){return translateManager.SetMenu(this,contentid,sourcelang,targetlang,moduleid,typeid,entityid);});})(i);}}}});function FriendsShort(title){this.showFriendWindow=function(linkObj,userLogin,fullName,worksAt,rating,imagePath,country,position,website){var container=createElement(null,"DIV",{className:"friendInfoContainer ui complaint-window"});var leftContainer=createElement(container,"DIV",{className:"leftContainer"});var avatarBlock=createElement(leftContainer,"DIV",{className:"user"});createElement(avatarBlock,"IMG",{src:imagePath,width:"60",height:"60",title:fullName,loading:"lazy"});var ratingBlock=createElement(avatarBlock,"SPAN",{className:"rating"});ratingBlock.innerHTML=rating;var detailsContainer=createElement(container,"DIV",{className:"detailsContainer"});var nameBlock=createElement(detailsContainer,"P",{className:"name"});nameBlock.innerHTML=fullName;var worksBlock=createElement(detailsContainer,"P",{className:"works"});if(position!=""||worksAt!="")worksBlock.innerHTML+="Works: ";if(position!="")worksBlock.innerText+=position;if(worksAt!=""){if(position!="")worksBlock.innerHTML+=" ";worksBlock.innerText+="at ";if(website!=""){createElement(worksBlock,"A",{target:"_blank",href:website}).innerText=worksAt;}}var livesBlock=createElement(detailsContainer,"P",{className:"lives"});if(country!="")livesBlock.innerHTML="Lives: "+country;createElement(container,"DIV",{className:"splitter"});var operationsContainer=createElement(container,"DIV",{className:"complaint-window__item complaint-window__btns"});createElement(operationsContainer,"button",{className:"button button_green",innerText:"Add",onclick:function(){addFriendRequest(linkObj,userLogin);}});var initialWidth=360;var initialHeight=105;window.Dialog.show(title,container,initialWidth,initialHeight,function(){Dialog.hide();},null,false,null,false,'fixed');};function addFriendRequest(linkObj,friendLogin){Ajax.post('/en/users/deszkmihaly67/friends',{user:friendLogin,act:"add",__signature:'50d38bb23b4b6cb049bcf5c34cb4b2ca'},false,{onready:function(){linkObj.parentNode.style.display="none";Dialog.hide();}});};}window.friendShort=new FriendsShort('Do you want to add user to friends?');window.fz("show","wdausxxqrpvhekbwjrjlhqjghyhesrqqau");window.mqGlobal.AddOnLoad(function(){window.fpush('MQL5+Article+Open');Articles.CheckOnScrollDown();});mqGlobal.AddOnLoad(function(){window.tooltipUserInfo.init();});mqGlobal.AddOnReady(function(){{window.initHeaderSearch('','https://www.mql5.com/en/search');}});</script><script type="text/javascript">mqGlobal.AddOnReady(function(){window.initSuggestions("headerSearchKeyword","en","https://search.mql5.com/api/query","https://www.mql5.com/en/users_search/suggestion");});mqGlobal.AddOnReady(function(){var localization={"friendsHeader":"Friends","newMessageHeader":"Add new message","userToLabel":"Part of the user's name or login","gotoMessages":"Go to messages list","gotoMessage":"Go to chat","otherUsersHeader":"Other users","returnToList":"Return to messages list (ESC)","closeChat":"Close chat","attachedFilesHeader":"Attached files","attachFileTitle":"Attach file","sendMessageTitle":"Reply","expandWindow":"Expand chat window","minimizeWindow":"Reduce chat window","searchUserPlaceholder":"Part of the user's name or login","searchChannelPlaceholder":"Channels","errorOccuredMessage":"An error occurred. Please try again later.","systemYouInvited":"You have been invited to chat {0}","systemUserInvited":"{0} invited {1}","systemChatUserLeft":"{0} left the chat","systemChatUserRemoved":"{0} removed {1} from chat","systemChannelUserRemoved":"{0} removed {1} from channel","systemChannelPublic":"{0} made the channel public","systemChannelPrivate":"{0} made the channel private","systemChatLimited":"{0} made the chat limited","systemChatUnlimited":"{0} made the chat not limited","systemChatClosed":"{0} closed the chat","systemChannelClosed":"Channel is now closed","systemChatReopened":"{0} reopened the chat","systemChannelReopened":"Channel reopened","systemChatRename":"{0} changed the chat name to {1}","systemChannelRename":"Channel name changed to {0}","systemChatCreate":"{0} created the chat {1}","systemChannelCreate":"Channel {0} created","systemChatPrivate":"{0} made the chat private","systemChatPublic":"{0} made the chat public","subscribe":"Subscribe","unsubscribe":"Unsubscribe","ofSubscribers":"{0} subscribers","ofUsers":"{0} members","messages":"Messages","users":"Users","channels":"Channels","unreadMessages":"Unread messages","deleteChat":"delete","deleteChatConfirm":"Are you sure want to delete chat?","allChats":"All chats","privateChats":"Private chats","groupChats":"Group chats","allChatsShort":"All","privateChatsShort":"Private","groupChatsShort":"Groups","recommendedChannels":"Recommended channels","members":"Members","popularChannels":"Popular channels","startChat":"Start a chat","createChannel":"Create a channel","createGroup":"Create a group","searchPlaceholder":"Enter part of a name or login of a person you want to chat with","en":"English","ru":"Русский","de":"Deutsch","es":"Español","pt":"Português","ja":"日本語","zh":"中文","ar":"العربية","tr":"Türkçe","it":"Italiano","ko":"한국어","fr":"Français","foundEmpty":"Your search did not match any documents","close":"Close","chatNamePlaceholder":"Set a short and clear name","channelCreation":"Creating a channel","image":"Image","fileDesc":"JPG, GIF or PNG image","chatDesc":"Description","channelDescPlaceholder":"Add a clear channel description","links":"Links","linksPlaceholder":"Comma-separated list of links","channelLanguage":"Channel language","addMembers":"Add members","selectedMembers":"{0} members selected","append":"Add","groupCreation":"Creating a group","publicChannel":"Public channel","privateChannel":"Private channel","publicChannelDesc":"Any user is able to find the channel and subscribe to it","privateChannelDesc":"The channel is available to invited users only","urlChannel":"Channel link","channelAvatar":"Channel avatar","selectFile":"Select a file","delete":"delete","channel":"Channel","group":"Group chat","edit":"edit","editing":"Editing","inviteLinkExists":"This link name is already in use, please set another one","save":"Save","publicChat":"Public chat","privateChat":"Private chat","publicChatDesc":"Any user is able to find and join the chat","privateChatDesc":"The chat is available to invited users only","open":"Open","chatLanguage":"Chat language","isLimited":"Regular chat users can add new members","emptyAddMember":"To add new members, use the search","mql5Members":"MQL5 members","friends":"Friends","friendAddToChat":"Add to friends","friendAddToChatNote":"Add the user as a friend. You can see activity of your friends on the website and communicate with them easily.","admin":"Administrator","owner":"Owner","moderator":"Moderator","notSupportedWebsoket":"WebSocket is not supported by this browser.","cancel":"Cancel","deletion":"Deletion","deletionTextChannel":"Do you really want to delete the {0} channel?","deletionTextGroup":"Do you really want to delete the {0} group?","deleteUpper":"Delete","block":"-","unblock":"-","emptyChatsList":'<p>You have no chats.</p><p>Please use the search or create a new chat on the <a href="{0}">messages</a> page</p>',"deletedAccount":"Deleted account","other":"Other","groupDescPlaceholder":"Add a clear chat description","widgetErrorOccured":"An error occurred. Please try again later.","pleaseUploadAvatar":"Please upload the chat avatar","pleaseUploadAvatarChannel":"Please upload the channel avatar","countParticipants":"{0} participants","countFollower":"{0} followers","info":"Info","errorImageEx":"The image does not meet the requirements. The image format should be JPG, GIF or PNG","user":"User","update":"Update","permissions":"Permissions","reader":"Reader","postMessages":"Post messages","read":"Read","canWriteMessages":"The user can write messages","adminDesc":"Administrator permissions allow the user to: <ul> <li>grant any permissions to users</li> <li>remove any users</li> <li>delete messages</li> <li>edit chat / channel information</li> <li>close chat / channel</li> </ul>","moderatorDesc":"Moderator permissions allow the user to: <ul> <li>grant users permissions lower than moderator</li> <li>remove users with lower permissions</li> <li>delete messages</li> </ul>","urlChannelDesc":"Only letters, numbers, minus and underscore are allowed. The minimum length is {0} symbols, a letter should come first","chatNotFound":'<h3>Chat not found</h3> <p><a href="{0}" onclick="{1}" class="{2}">Main chat page</a></p>',"collapse":"Collapse","showOriginal":"Show original","errorLoading":"Unable to download attachment","next":"Next","previous":"Previous","linkToImg":"Link to the image","linkToVideo":"Link to the video","search":"Search","chats":"Chats","subscribed":"Subscribed","add":"Send","message":"Message","emptyMessageError":"Message cannot be empty","longMessageError":"The message should not exceed {0} characters","invalidType":"Incorrect file type","deleteAllMessagesFromConfirm":"Do you really want to delete all messages from {0}?","complaint":"complain","abuse":"Abuse","advert":"Advertisement","spam":"Spam","complaintTitle":"Complaint","complaintOther":"Other","complaintError":"Error ocured. Try send complaint later.","complaintSuccess":"Your complaint has been successfully sent!","complaintLength":"The length must range from {0} to {1} characters.","characters":"characters","comment":"Comment","complaintContains":"Message contains","back":"Back","new":"New","my":"My","popular":"Popular","recommended":"Recommended","unsubscribeConfirmChannel":"Do you really want to leave the {0} channel?","unsubscribeConfirmGroup":"Do you really want to leave the {0} group?","chatEdit":"Edit","writer":"Author","avatarErrorSize":"The image size should be at least {0}x{1} pixels","friendWaitingPair":"You'll be able to start a chat once the user confirms your friend request","emptyChatsListShort":'<p>You have no chats.</p><p>Please use the search or create a new chat</p>',"errorUserNonChatablePrivacyFriends":"The user has enabled incoming personal messages from friends only","privacyOnlyFriendsWithName":"{0} has enabled incoming personal messages from friends only","zoomIn":"zoom in","zoomOut":"zoom out","friendWaitingPairWithName":"You'll be able to start a chat once {0} confirms your friend request","dragAndDrop":"Upload","reportSpam":"Report spam","addingMembers":"Adding members","you":"You","commentAuthor":"Comment author","notAllowedAdd":"Users {0} have disabled the ability to add them to groups and channels","replyMessage":"Reply","editMembers":"Edit members","membersCount":"Members ({0})","searchMembers":"Searching for members","errorUserNotFound":"User not found","membersList":"List of members","urlGroup":"Group URL","usefulLinks":"Useful links","copied":"Copied","type":"Type","management":"Management","closeGroup":"Close group","closeChannel":"Close channel","openGroup":"Open group","openChannel":"Open channel","maxNumberFiles":"Maximum number of attached files: {0}","noMessagesYet":"No messages here yet. Send a message to start a chat.","upload":"Upload","addUsefulLinks":"Add useful links:","nameNSymbols":"Name (up to {0} characters)","descNSymbols":"Description (up to {0} characters)","isLimitedShort":"Users are able to add members","created":"Created","deleted":"Deleted","join":"Join","leaveGroup":"Leave group","notifications":"Notifications","mute":"Mute","unmute":"Unmute","andMoreMembers":"and {0} more members","retry":"Retry","verified":"Verified","blockUser":"Block user","unblockUser":"Unblock user","errorUserBannedAnotherUser":"Cannot send message. This user has blocked you.","warningUserBlocked":"You have blocked this user. They cannot send you messages.",};var chatSettings={'mode':'prod','complaintKey':"1908c431528c1158d44233a2a7765fd0",'userId':"0CBDAB0100000000",'userLogin':'deszkmihaly67','language':'en','playSounds':true,'accessLevel':0,'friendlyHosts':[".gov.uk",".wikipedia.org",".zerohedge.com",".metatrader4.com",".metatrader5.com",".mql4.com",".mql5.com",".mql5.com",".mql5.dev",".metaquotes.net",".teamwox.com",".forex-tsd.com",".finteza.com",".adp.com",".bakerhughes.com",".bankofcanada.ca",".bankofengland.co.uk",".bba.org.uk",".boj.or.jp",".brc.org.uk",".cao.go.jp",".chicagofed.org",".cmhc-schl.gc.ca",".conference-board.org",".consilium.europa.eu",".customs.go.jp",".dallasfed.org",".ec.europa.eu",".ecb.europa.eu",".halifax.co.uk",".iea.org",".imf.org",".instituteforsupplymanagement.org",".ivey.uwo.ca",".kansascityfed.org",".markiteconomics.com",".meti.go.jp",".mhlw.go.jp",".mni-indicators.com",".mof.go.jp",".nahb.org",".nar.realtor",".newyorkfed.org",".niesr.ac.uk",".opec.org",".parliament.uk",".philadelphiafed.org",".rics.org",".stat.go.jp",".statcan.gc.ca",".us.spindices.com",".zew.de",".youtube.com",".lst.to",".tradays.com",".linkedin.com"],'readonly':false,'type':0,'token':'9fc8ede567806705cd720df5646c86ab3b57ea8f6933cae134857958f3dfe5b8b113ef017b93894176e63f4b978b903fabda780436e605bb9f9aed54cb5a96bf5e09bba26aa912b8ecb3486eef59ecb817b9b23315f30d4a4cc2eb128e36bb148e58711e748c89fb99a5144340436092','url':'msg1.mql5.com','servers':['msg1.mql5.com'],'version':28,'uniq':"6428434430243088515",'localization':localization,};window.initChatWidget(chatSettings);});if(!window.dateToTextLocalization)window.dateToTextLocalization={'m1':'{0} minute ago','m2':'{0} minutes ago','m3':'{0} minutes ago','h1':'{0} hour ago','h2':'{0} hours ago','h3':'{0} hours ago','lang':'en'};window.fz("show","bfogggabsofabcpxuzmgaibarmaxasdrj");window.fz("show","vgckrufggwxdtfscpyalmenexmvhljduja");							if (typeof Attach !== "undefined")
			Attach.setAcceptFilter(".zip, .txt, .log, .mqh, .ex5, .mq5, .mq4, .mqproj, .ex4, .mt5, .set, .tpl, .cl, .py, .sqlite, .csv, .ini, .ipynb, .onnx, .gif, .png, .jpg, .jpeg, .mp4, .webm");
	</script>

<script type="application/ld&#x2B;json">
		[
			{
				"@context": "https://schema.org",
				"@type": "Organization",
				"url": "https://www.mql5.com",
				"logo": "https://c.mql5.com/i/community/logo_mql5-2.png",
				"sameAs": [
					"https://www.facebook.com/mql5.community",
					"https://www.x.com/mql5com",
					"https://www.youtube.com/user/MetaQuotesOfficial"
				 ]
			}
		
, 
{"@context":"https://schema.org","@type":"ItemList","itemListElement":[{"@type":"SiteNavigationElement","position":1,"name":"Forum","description":"Discussions of trading strategies and algorithmic trading. MQL5.community  the largest forex forum","url":"https://www.mql5.com/en/forum","children":[]},{"@type":"SiteNavigationElement","position":2,"name":"Market","description":"MetaTrader Market - a Market of trading robots, indicators, trading books and magazines","url":"https://www.mql5.com/en/market","children":[]},{"@type":"SiteNavigationElement","position":3,"name":"Signals","description":"Social trading, copy trading and account monitoring with MetaTrader - Trading Signals on MQL5.com","url":"https://www.mql5.com/en/signals","children":[]},{"@type":"SiteNavigationElement","position":4,"name":"Freelance","description":"Order trading robots, technical indicators and algorithmic trading applications. Forex jobs. Freelance on MQL5.com. Hire MetaTrader experts and specialists","url":"https://www.mql5.com/en/job","children":[]},{"@type":"SiteNavigationElement","position":5,"name":"Quotes","description":"","url":"https://www.mql5.com/en/quotes/overview","children":[]},{"@type":"SiteNavigationElement","position":6,"name":"WebTerminal","description":"WebTerminal for the MetaTrader trading platform. Online forex trading.","url":"https://web.metatrader.app/terminal?mode=demo","children":[]},{"@type":"SiteNavigationElement","position":7,"name":"Calendar","description":"","url":"https://www.mql5.com/en/economic-calendar","children":[]},{"@type":"SiteNavigationElement","position":8,"name":"VPS","description":"","url":"https://www.mql5.com/en/vps","children":[]},{"@type":"SiteNavigationElement","position":9,"name":"Articles","description":"","url":"https://www.mql5.com/en/articles","children":[]},{"@type":"SiteNavigationElement","position":10,"name":"CodeBase","description":"Download trading robots, technical indicators and scripts with source code - MQL5 Code Base for MetaTrader 5","url":"https://www.mql5.com/en/code","children":[]},{"@type":"SiteNavigationElement","position":11,"name":"Algo Forge","description":"","url":"https://forge.mql5.io","children":[]},{"@type":"SiteNavigationElement","position":12,"name":"Documentation","description":"MetaQuotes Language 5 (MQL5) Reference - Documentation on MQL5.com","url":"https://www.mql5.com/en/docs","children":[]}]}		
,
{"@context":"https://schema.org","@type":"TechArticle","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.mql5.com/en/articles/20390"},"headline":"Price Action Analysis Toolkit Development (Part 53): Pattern Density Heatmap for Support and Resistance Zone D","image":["https://c.mql5.com/2/183/SCATTERED_PATTERNS.png","https://c.mql5.com/2/183/CLUSTER_BANDS.png","https://c.mql5.com/2/183/PATTERN_MAPPING.png","https://c.mql5.com/2/183/Importance_of_the_Tool.png","https://c.mql5.com/2/183/CLUSTER_ZONES.gif","https://c.mql5.com/2/183/Hammer.png","https://c.mql5.com/2/183/Doji.png"],"datePublished":"2025-11-28T10:09:12+00:00Z","dateModified":"2025-11-27T15:15:36+00:00Z","author":{"@type":"Person","name":"Christian Benjamin","url":"https://www.mql5.com/en/users/lynnchris"},"publisher":{"@type":"Organization","name":"MQL5 Community","url":"https://www.mql5.com","logo":{"@type":"ImageObject","url":"https://c.mql5.com/i/community/logo_mql5-2.png"}},"description":"This article introduces the Pattern Density Heatmap, a priceaction mapping tool that transforms repeated candlestick pattern detections into statistically significant support and resistance zones. Rather than treating each signal in isolation, the EA aggregates detections into fixed price bins, scores their density with optional recency weighting, and confirms levels against highertimeframe data. The resulting heatmap reveals where the market has historically reactedlevels that can be used proactively for trade timing, risk management, and strategy confidence across any trading style."}
,
{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":"https://www.mql5.com/en/articles","name":"Articles"},{"@type":"ListItem","position":2,"item":"https://www.mql5.com/en/articles/mt5","name":"MetaTrader 5"},{"@type":"ListItem","position":3,"item":"https://www.mql5.com/en/articles/mt5/indicators","name":"Indicators"}]}

		]
	</script>
</body>
</html>