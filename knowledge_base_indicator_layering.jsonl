{"id": "indicator_layering_ontimer", "source": "developer_memory", "content": "Indicator Layering in EA using OnTimer: A robust method to overlay multiple indicators (e.g., WPR + MACD) in the same subwindow within an MQL5 Expert Advisor. Standard ChartIndicatorAdd in OnInit often fails to layer secondary indicators because the primary indicator's subwindow (e.g., window index 1) is not fully registered/available immediately. Solution: 1. In OnInit, create all indicator handles and add the primary indicator (e.g., WPR) to create the subwindow. 2. Call EventSetTimer(1). 3. In OnTimer(), use ChartWindowFind to check if the primary indicator's window exists. 4. If found, use ChartIndicatorAdd(0, found_window, secondary_handle) to add the layers. 5. Call EventKillTimer() to stop the timer. This ensures the target window exists before attempting to layer, preventing errors and ensuring correct visual placement."}
